import{j as Ae,k as m,m as S,o as mt,u as St,p as Lt,b as Re,r as F,q as Rt,w as J,s as Tt,Q as xe,t as De,v as Pt,x as oe,y as Xe,z as gt,A as ht,B as bt,C as $t,D as jt,E as Nt,F as Qt,G as Kt,H as Ut,R as Wt,I as ae,J as Xt,K as Yt,L as Gt,M as Jt,O as Zt,S as yt,n as G,T as el,U as tl,V as ll,W as nl,X as Ue,Y as ke,Z as ct,_ as ul,a0 as ol,a1 as al,a2 as dt,a3 as il,a4 as rl,h as sl,a5 as cl}from"./index.0014ed2d.js";import{Q as wt,a as dl,b as fl,c as vl,d as ml}from"./QTooltip.bb4b0661.js";var Sl=Ae({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:r}){const u=m(()=>{const d=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(q=>e[q]===!0).map(q=>`q-btn-group--${q}`).join(" ");return`q-btn-group row no-wrap${d.length!==0?" "+d:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>S("div",{class:u.value},mt(r.default))}});const gl=Object.keys(St),hl=e=>gl.reduce((r,u)=>{const d=e[u];return d!==void 0&&(r[u]=d),r},{});var bl=Ae({name:"QBtnDropdown",props:{...St,...Lt,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:r,emit:u}){const{proxy:d}=Re(),q=F(e.modelValue),a=F(null),I=Rt(),g=m(()=>{const c={"aria-expanded":q.value===!0?"true":"false","aria-haspopup":"true","aria-controls":I,"aria-label":e.toggleAriaLabel||d.$q.lang.label[q.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(c["aria-disabled"]="true"),c}),h=m(()=>"q-btn-dropdown__arrow"+(q.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),_=m(()=>Pt(e)),s=m(()=>hl(e));J(()=>e.modelValue,c=>{a.value!==null&&a.value[c?"show":"hide"]()}),J(()=>e.split,E);function C(c){q.value=!0,u("beforeShow",c)}function k(c){u("show",c),u("update:modelValue",!0)}function x(c){q.value=!1,u("beforeHide",c)}function z(c){u("hide",c),u("update:modelValue",!1)}function R(c){u("click",c)}function f(c){oe(c),E(),u("click",c)}function T(c){a.value!==null&&a.value.toggle(c)}function N(c){a.value!==null&&a.value.show(c)}function E(c){a.value!==null&&a.value.hide(c)}return Object.assign(d,{show:N,hide:E,toggle:T}),Tt(()=>{e.modelValue===!0&&N()}),()=>{const c=[S(xe,{class:h.value,name:e.dropdownIcon||d.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&c.push(S(wt,{ref:a,id:I,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:C,onShow:k,onBeforeHide:x,onHide:z},r.default)),e.split===!1?S(De,{class:"q-btn-dropdown q-btn-dropdown--simple",...s.value,...g.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:R},{default:()=>mt(r.label,[]).concat(c),loading:r.loading}):S(Sl,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,..._.value,glossy:e.glossy,stretch:e.stretch},()=>[S(De,{class:"q-btn-dropdown--current",...s.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:f},{default:r.label,loading:r.loading}),S(De,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...g.value,..._.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>c)])}}}),yl=Ae({name:"QField",inheritAttrs:!1,props:{...Xe,tag:{type:String,default:"label"}},emits:gt,setup(){return ht(bt({requiredForAttr:!1,tagProp:!0}))}});const wl={xs:8,sm:10,md:14,lg:20,xl:24};var Cl=Ae({name:"QChip",props:{...$t,...jt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:r,emit:u}){const{proxy:{$q:d}}=Re(),q=Nt(e,d),a=Qt(e,wl),I=m(()=>e.selected===!0||e.icon!==void 0),g=m(()=>e.selected===!0?e.iconSelected||d.iconSet.chip.selected:e.icon),h=m(()=>e.iconRemove||d.iconSet.chip.remove),_=m(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),s=m(()=>{const f=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(f?` text-${f} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(_.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(q.value===!0?" q-chip--dark q-dark":"")}),C=m(()=>{const f=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},T={...f,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||d.lang.label.remove};return{chip:f,remove:T}});function k(f){f.keyCode===13&&x(f)}function x(f){e.disable||(u("update:selected",!e.selected),u("click",f))}function z(f){(f.keyCode===void 0||f.keyCode===13)&&(ae(f),e.disable===!1&&(u("update:modelValue",!1),u("remove")))}function R(){const f=[];_.value===!0&&f.push(S("div",{class:"q-focus-helper"})),I.value===!0&&f.push(S(xe,{class:"q-chip__icon q-chip__icon--left",name:g.value}));const T=e.label!==void 0?[S("div",{class:"ellipsis"},[e.label])]:void 0;return f.push(S("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ut(r.default,T))),e.iconRight&&f.push(S(xe,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&f.push(S(xe,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...C.value.remove,onClick:z,onKeyup:z})),f}return()=>{if(e.modelValue===!1)return;const f={class:s.value,style:a.value};return _.value===!0&&Object.assign(f,C.value.chip,{onClick:x,onKeyup:k}),Kt("div",f,R(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Wt,e.ripple]])}}});let Le=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const r=document.createElement("div");Object.assign(r.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(r),e.scrollLeft=-1e3,Le=e.scrollLeft>=0,e.remove()}const Q=1e3,Vl=["start","center","end","start-force","center-force","end-force"],Ct=Array.prototype.filter,kl=window.getComputedStyle(document.body).overflowAnchor===void 0?Xt:function(e,r){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const u=e.children||[];Ct.call(u,q=>q.dataset&&q.dataset.qVsAnchor!==void 0).forEach(q=>{delete q.dataset.qVsAnchor});const d=u[r];d&&d.dataset&&(d.dataset.qVsAnchor="")}))};function Se(e,r){return e+r}function We(e,r,u,d,q,a,I,g){const h=e===window?document.scrollingElement||document.documentElement:e,_=q===!0?"offsetWidth":"offsetHeight",s={scrollStart:0,scrollViewSize:-I-g,scrollMaxSize:0,offsetStart:-I,offsetEnd:-g};if(q===!0?(e===window?(s.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,s.scrollViewSize+=document.documentElement.clientWidth):(s.scrollStart=h.scrollLeft,s.scrollViewSize+=h.clientWidth),s.scrollMaxSize=h.scrollWidth,a===!0&&(s.scrollStart=(Le===!0?s.scrollMaxSize-s.scrollViewSize:0)-s.scrollStart)):(e===window?(s.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,s.scrollViewSize+=document.documentElement.clientHeight):(s.scrollStart=h.scrollTop,s.scrollViewSize+=h.clientHeight),s.scrollMaxSize=h.scrollHeight),u!==null)for(let C=u.previousElementSibling;C!==null;C=C.previousElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetStart+=C[_]);if(d!==null)for(let C=d.nextElementSibling;C!==null;C=C.nextElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(s.offsetEnd+=C[_]);if(r!==e){const C=h.getBoundingClientRect(),k=r.getBoundingClientRect();q===!0?(s.offsetStart+=k.left-C.left,s.offsetEnd-=k.width):(s.offsetStart+=k.top-C.top,s.offsetEnd-=k.height),e!==window&&(s.offsetStart+=s.scrollStart),s.offsetEnd+=s.scrollMaxSize-s.offsetStart}return s}function ft(e,r,u,d){r==="end"&&(r=(e===window?document.body:e)[u===!0?"scrollWidth":"scrollHeight"]),e===window?u===!0?(d===!0&&(r=(Le===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-r),window.scrollTo(r,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r):u===!0?(d===!0&&(r=(Le===!0?e.scrollWidth-e.offsetWidth:0)-r),e.scrollLeft=r):e.scrollTop=r}function qe(e,r,u,d){if(u>=d)return 0;const q=r.length,a=Math.floor(u/Q),I=Math.floor((d-1)/Q)+1;let g=e.slice(a,I).reduce(Se,0);return u%Q!==0&&(g-=r.slice(a*Q,u).reduce(Se,0)),d%Q!==0&&d!==q&&(g-=r.slice(d,I*Q).reduce(Se,0)),g}const ql={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},xl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...ql};function Al({virtualScrollLength:e,getVirtualScrollTarget:r,getVirtualScrollEl:u,virtualScrollItemSizeComputed:d}){const q=Re(),{props:a,emit:I,proxy:g}=q,{$q:h}=g;let _,s,C,k=[],x;const z=F(0),R=F(0),f=F({}),T=F(null),N=F(null),E=F(null),c=F({from:0,to:0}),pe=m(()=>a.tableColspan!==void 0?a.tableColspan:100);d===void 0&&(d=m(()=>a.virtualScrollItemSize));const M=m(()=>d.value+";"+a.virtualScrollHorizontal),X=m(()=>M.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);J(X,()=>{K()}),J(M,Z);function Z(){ie(s,!0)}function ge(l){ie(l===void 0?s:l)}function ee(l,i){const b=r();if(b==null||b.nodeType===8)return;const p=We(b,u(),T.value,N.value,a.virtualScrollHorizontal,h.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);C!==p.scrollViewSize&&K(p.scrollViewSize),P(b,p,Math.min(e.value-1,Math.max(0,parseInt(l,10)||0)),0,Vl.indexOf(i)>-1?i:s>-1&&l>s?"end":"start")}function _e(){const l=r();if(l==null||l.nodeType===8)return;const i=We(l,u(),T.value,N.value,a.virtualScrollHorizontal,h.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),b=e.value-1,p=i.scrollMaxSize-i.offsetStart-i.offsetEnd-R.value;if(_===i.scrollStart)return;if(i.scrollMaxSize<=0){P(l,i,0,0);return}C!==i.scrollViewSize&&K(i.scrollViewSize),he(c.value.from);const H=Math.floor(i.scrollMaxSize-Math.max(i.scrollViewSize,i.offsetEnd)-Math.min(x[b],i.scrollViewSize/2));if(H>0&&Math.ceil(i.scrollStart)>=H){P(l,i,b,i.scrollMaxSize-i.offsetEnd-k.reduce(Se,0));return}let V=0,w=i.scrollStart-i.offsetStart,D=w;if(w<=p&&w+i.scrollViewSize>=z.value)w-=z.value,V=c.value.from,D=w;else for(let y=0;w>=k[y]&&V<b;y++)w-=k[y],V+=Q;for(;w>0&&V<b;)w-=x[V],w>-i.scrollViewSize?(V++,D=w):D=x[V]+w;P(l,i,V,D)}function P(l,i,b,p,H){const V=typeof H=="string"&&H.indexOf("-force")>-1,w=V===!0?H.replace("-force",""):H,D=w!==void 0?w:"start";let y=Math.max(0,b-f.value[D]),$=y+f.value.total;$>e.value&&($=e.value,y=Math.max(0,$-f.value.total)),_=i.scrollStart;const Y=y!==c.value.from||$!==c.value.to;if(Y===!1&&w===void 0){be(b);return}const{activeElement:Ie}=document,U=E.value;Y===!0&&U!==null&&U!==Ie&&U.contains(Ie)===!0&&(U.addEventListener("focusout",ze),setTimeout(()=>{U!==null&&U.removeEventListener("focusout",ze)})),kl(U,b-y);const Oe=w!==void 0?x.slice(y,b).reduce(Se,0):0;if(Y===!0){const te=$>=c.value.from&&y<=c.value.to?c.value.to:$;c.value={from:y,to:te},z.value=qe(k,x,0,y),R.value=qe(k,x,$,e.value),requestAnimationFrame(()=>{c.value.to!==$&&_===i.scrollStart&&(c.value={from:c.value.from,to:$},R.value=qe(k,x,$,e.value))})}requestAnimationFrame(()=>{if(_!==i.scrollStart)return;Y===!0&&he(y);const te=x.slice(y,b).reduce(Se,0),le=te+i.offsetStart+z.value,Me=le+x[b];let we=le+p;if(w!==void 0){const Pe=te-Oe,Ce=i.scrollStart+Pe;we=V!==!0&&Ce<le&&Me<Ce+i.scrollViewSize?Ce:w==="end"?Me-i.scrollViewSize:le-(w==="start"?0:Math.round((i.scrollViewSize-x[b])/2))}_=we,ft(l,we,a.virtualScrollHorizontal,h.lang.rtl),be(b)})}function he(l){const i=E.value;if(i){const b=Ct.call(i.children,y=>y.classList&&y.classList.contains("q-virtual-scroll--skip")===!1),p=b.length,H=a.virtualScrollHorizontal===!0?y=>y.getBoundingClientRect().width:y=>y.offsetHeight;let V=l,w,D;for(let y=0;y<p;){for(w=H(b[y]),y++;y<p&&b[y].classList.contains("q-virtual-scroll--with-prev")===!0;)w+=H(b[y]),y++;D=w-x[V],D!==0&&(x[V]+=D,k[Math.floor(V/Q)]+=D),V++}}}function ze(){E.value!==null&&E.value!==void 0&&E.value.focus()}function ie(l,i){const b=1*d.value;(i===!0||Array.isArray(x)===!1)&&(x=[]);const p=x.length;x.length=e.value;for(let V=e.value-1;V>=p;V--)x[V]=b;const H=Math.floor((e.value-1)/Q);k=[];for(let V=0;V<=H;V++){let w=0;const D=Math.min((V+1)*Q,e.value);for(let y=V*Q;y<D;y++)w+=x[y];k.push(w)}s=-1,_=void 0,z.value=qe(k,x,0,c.value.from),R.value=qe(k,x,c.value.to,e.value),l>=0?(he(c.value.from),G(()=>{ee(l)})):re()}function K(l){if(l===void 0&&typeof window!="undefined"){const w=r();w!=null&&w.nodeType!==8&&(l=We(w,u(),T.value,N.value,a.virtualScrollHorizontal,h.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}C=l;const i=parseFloat(a.virtualScrollSliceRatioBefore)||0,b=parseFloat(a.virtualScrollSliceRatioAfter)||0,p=1+i+b,H=l===void 0||l<=0?1:Math.ceil(l/d.value),V=Math.max(1,H,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/p));f.value={total:Math.ceil(V*p),start:Math.ceil(V*i),center:Math.ceil(V*(.5+i)),end:Math.ceil(V*(1+i)),view:H}}function Te(l,i){const b=a.virtualScrollHorizontal===!0?"width":"height",p={["--q-virtual-scroll-item-"+b]:d.value+"px"};return[l==="tbody"?S(l,{class:"q-virtual-scroll__padding",key:"before",ref:T},[S("tr",[S("td",{style:{[b]:`${z.value}px`,...p},colspan:pe.value})])]):S(l,{class:"q-virtual-scroll__padding",key:"before",ref:T,style:{[b]:`${z.value}px`,...p}}),S(l,{class:"q-virtual-scroll__content",key:"content",ref:E,tabindex:-1},i.flat()),l==="tbody"?S(l,{class:"q-virtual-scroll__padding",key:"after",ref:N},[S("tr",[S("td",{style:{[b]:`${R.value}px`,...p},colspan:pe.value})])]):S(l,{class:"q-virtual-scroll__padding",key:"after",ref:N,style:{[b]:`${R.value}px`,...p}})]}function be(l){s!==l&&(a.onVirtualScroll!==void 0&&I("virtualScroll",{index:l,from:c.value.from,to:c.value.to-1,direction:l<s?"decrease":"increase",ref:g}),s=l)}K();const re=Yt(_e,h.platform.is.ios===!0?120:35);Gt(()=>{K()});let ye=!1;return Jt(()=>{ye=!0}),Zt(()=>{if(ye!==!0)return;const l=r();_!==void 0&&l!==void 0&&l!==null&&l.nodeType!==8?ft(l,_,a.virtualScrollHorizontal,h.lang.rtl):ee(s)}),yt(()=>{re.cancel()}),Object.assign(g,{scrollTo:ee,reset:Z,refresh:ge}),{virtualScrollSliceRange:c,virtualScrollSliceSizeComputed:f,setVirtualScrollSize:K,onVirtualScrollEvt:re,localResetVirtualScroll:ie,padVirtualScroll:Te,scrollTo:ee,reset:Z,refresh:ge}}const vt=e=>["add","add-unique","toggle"].includes(e),Bl=".*+?^${}()|[]\\",pl=Object.keys(Xe);var _l=Ae({name:"QSelect",inheritAttrs:!1,props:{...xl,...el,...Xe,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:vt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...gt,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:r,emit:u}){const{proxy:d}=Re(),{$q:q}=d,a=F(!1),I=F(!1),g=F(-1),h=F(""),_=F(!1),s=F(!1);let C=null,k=null,x,z,R,f=null,T,N,E,c;const pe=F(null),M=F(null),X=F(null),Z=F(null),ge=F(null),ee=tl(e),_e=rl(ot),P=m(()=>Array.isArray(e.options)?e.options.length:0),he=m(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ze,virtualScrollSliceSizeComputed:ie,localResetVirtualScroll:K,padVirtualScroll:Te,onVirtualScrollEvt:be,scrollTo:re,setVirtualScrollSize:ye}=Al({virtualScrollLength:P,getVirtualScrollTarget:xt,getVirtualScrollEl:nt,virtualScrollItemSizeComputed:he}),l=bt(),i=m(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,o=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const n=e.mapOptions===!0&&x!==void 0?x:[],v=o.map(B=>qt(B,n));return e.modelValue===null&&t===!0?v.filter(B=>B!==null):v}return o}),b=m(()=>{const t={};return pl.forEach(o=>{const n=e[o];n!==void 0&&(t[o]=n)}),t}),p=m(()=>e.optionsDark===null?l.isDark.value:e.optionsDark),H=m(()=>dt(i.value)),V=m(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||i.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),w=m(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),D=m(()=>P.value===0),y=m(()=>i.value.map(t=>j.value(t)).join(", ")),$=m(()=>e.displayValue!==void 0?e.displayValue:y.value),Y=m(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Ie=m(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||i.value.some(Y.value))),U=m(()=>l.focused.value===!0?e.tabindex:-1),Oe=m(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${l.targetUid.value}_lb`};return g.value>=0&&(t["aria-activedescendant"]=`${l.targetUid.value}_${g.value}`),t}),te=m(()=>({id:`${l.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),le=m(()=>i.value.map((t,o)=>({index:o,opt:t,html:Y.value(t),selected:!0,removeAtIndex:kt,toggleOption:ne,tabindex:U.value}))),Me=m(()=>{if(P.value===0)return[];const{from:t,to:o}=ze.value;return e.options.slice(t,o).map((n,v)=>{const B=se.value(n)===!0,A=Ne(n)===!0,L=t+v,O={clickable:!0,active:A,activeClass:Ce.value,manualFocus:!0,focused:!1,disable:B,tabindex:-1,dense:e.optionsDense,dark:p.value,role:"option","aria-selected":A===!0?"true":"false",id:`${l.targetUid.value}_${L}`,onClick:()=>{ne(n)}};return B!==!0&&(g.value===L&&(O.focused=!0),q.platform.is.desktop===!0&&(O.onMousemove=()=>{a.value===!0&&ce(L)})),{index:L,opt:n,html:Y.value(n),label:j.value(n),selected:O.active,focused:O.focused,toggleOption:ne,setOptionIndex:ce,itemProps:O}})}),we=m(()=>e.dropdownIcon!==void 0?e.dropdownIcon:q.iconSet.arrow.dropdown),Pe=m(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ce=m(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),W=m(()=>je(e.optionValue,"value")),j=m(()=>je(e.optionLabel,"label")),se=m(()=>je(e.optionDisable,"disable")),Fe=m(()=>i.value.map(t=>W.value(t))),Vt=m(()=>{const t={onInput:ot,onChange:_e,onKeydown:lt,onKeyup:et,onKeypress:tt,onFocus:Je,onClick(o){z===!0&&oe(o)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=_e,t});J(i,t=>{x=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&l.innerLoading.value!==!0&&(I.value!==!0&&a.value!==!0||H.value!==!0)&&(R!==!0&&me(),(I.value===!0||a.value===!0)&&de(""))},{immediate:!0}),J(()=>e.fillInput,me),J(a,Qe),J(P,Dt);function Ye(t){return e.emitValue===!0?W.value(t):t}function $e(t){if(t>-1&&t<i.value.length)if(e.multiple===!0){const o=e.modelValue.slice();u("remove",{index:t,value:o.splice(t,1)[0]}),u("update:modelValue",o)}else u("update:modelValue",null)}function kt(t){$e(t),l.focus()}function Ge(t,o){const n=Ye(t);if(e.multiple!==!0){e.fillInput===!0&&Ve(j.value(t),!0,!0),u("update:modelValue",n);return}if(i.value.length===0){u("add",{index:0,value:n}),u("update:modelValue",e.multiple===!0?[n]:n);return}if(o===!0&&Ne(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const v=e.modelValue.slice();u("add",{index:v.length,value:n}),v.push(n),u("update:modelValue",v)}function ne(t,o){if(l.editable.value!==!0||t===void 0||se.value(t)===!0)return;const n=W.value(t);if(e.multiple!==!0){o!==!0&&(Ve(e.fillInput===!0?j.value(t):"",!0,!0),ue()),M.value!==null&&M.value.focus(),(i.value.length===0||ke(W.value(i.value[0]),n)!==!0)&&u("update:modelValue",e.emitValue===!0?n:t);return}if((z!==!0||_.value===!0)&&l.focus(),Je(),i.value.length===0){const A=e.emitValue===!0?n:t;u("add",{index:0,value:A}),u("update:modelValue",e.multiple===!0?[A]:A);return}const v=e.modelValue.slice(),B=Fe.value.findIndex(A=>ke(A,n));if(B>-1)u("remove",{index:B,value:v.splice(B,1)[0]});else{if(e.maxValues!==void 0&&v.length>=e.maxValues)return;const A=e.emitValue===!0?n:t;u("add",{index:v.length,value:A}),v.push(A)}u("update:modelValue",v)}function ce(t){if(q.platform.is.desktop!==!0)return;const o=t>-1&&t<P.value?t:-1;g.value!==o&&(g.value=o)}function Ee(t=1,o){if(a.value===!0){let n=g.value;do n=ct(n+t,-1,P.value-1);while(n!==-1&&n!==g.value&&se.value(e.options[n])===!0);g.value!==n&&(ce(n),re(n),o!==!0&&e.useInput===!0&&e.fillInput===!0&&He(n>=0?j.value(e.options[n]):T,!0))}}function qt(t,o){const n=v=>ke(W.value(v),t);return e.options.find(n)||o.find(n)||t}function je(t,o){const n=t!==void 0?t:o;return typeof n=="function"?n:v=>v!==null&&typeof v=="object"&&n in v?v[n]:v}function Ne(t){const o=W.value(t);return Fe.value.find(n=>ke(n,o))!==void 0}function Je(t){e.useInput===!0&&M.value!==null&&(t===void 0||M.value===t.target&&t.target.value===y.value)&&M.value.select()}function Ze(t){ul(t,27)===!0&&a.value===!0&&(oe(t),ue(),me()),u("keyup",t)}function et(t){const{value:o}=t.target;if(t.keyCode!==void 0){Ze(t);return}if(t.target.value="",C!==null&&(clearTimeout(C),C=null),k!==null&&(clearTimeout(k),k=null),me(),typeof o=="string"&&o.length!==0){const n=o.toLocaleLowerCase(),v=A=>{const L=e.options.find(O=>A.value(O).toLocaleLowerCase()===n);return L===void 0?!1:(i.value.indexOf(L)===-1?ne(L):ue(),!0)},B=A=>{v(W)!==!0&&(v(j)===!0||A===!0||de(o,!0,()=>B(!0)))};B()}else l.clearValue(t)}function tt(t){u("keypress",t)}function lt(t){if(u("keydown",t),ol(t)===!0)return;const o=h.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),n=t.shiftKey!==!0&&e.multiple!==!0&&(g.value>-1||o===!0);if(t.keyCode===27){Ue(t);return}if(t.keyCode===9&&n===!1){fe();return}if(t.target===void 0||t.target.id!==l.targetUid.value||l.editable.value!==!0)return;if(t.keyCode===40&&l.innerLoading.value!==!0&&a.value===!1){ae(t),ve();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?$e(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&u("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(ae(t),g.value=-1,Ee(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ie.value!==void 0&&(ae(t),g.value=Math.max(-1,Math.min(P.value,g.value+(t.keyCode===33?-1:1)*ie.value.view)),Ee(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ae(t),Ee(t.keyCode===38?-1:1,e.multiple));const v=P.value;if((E===void 0||c<Date.now())&&(E=""),v>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||E.length!==0)){a.value!==!0&&ve(t);const B=t.key.toLocaleLowerCase(),A=E.length===1&&E[0]===B;c=Date.now()+1500,A===!1&&(ae(t),E+=B);const L=new RegExp("^"+E.split("").map(Ke=>Bl.indexOf(Ke)>-1?"\\"+Ke:Ke).join(".*"),"i");let O=g.value;if(A===!0||O<0||L.test(j.value(e.options[O]))!==!0)do O=ct(O+1,-1,v-1);while(O!==g.value&&(se.value(e.options[O])===!0||L.test(j.value(e.options[O]))!==!0));g.value!==O&&G(()=>{ce(O),re(O),O>=0&&e.useInput===!0&&e.fillInput===!0&&He(j.value(e.options[O]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||E!=="")&&(t.keyCode!==9||n===!1))){if(t.keyCode!==9&&ae(t),g.value>-1&&g.value<v){ne(e.options[g.value]);return}if(o===!0){const B=(A,L)=>{if(L){if(vt(L)!==!0)return}else L=e.newValueMode;if(Ve("",e.multiple!==!0,!0),A==null)return;(L==="toggle"?ne:Ge)(A,L==="add-unique"),e.multiple!==!0&&(M.value!==null&&M.value.focus(),ue())};if(e.onNewValue!==void 0?u("newValue",h.value,B):B(h.value),e.multiple!==!0)return}a.value===!0?fe():l.innerLoading.value!==!0&&ve()}}function nt(){return z===!0?ge.value:X.value!==null&&X.value.contentEl!==null?X.value.contentEl:void 0}function xt(){return nt()}function At(){return e.hideSelected===!0?[]:r["selected-item"]!==void 0?le.value.map(t=>r["selected-item"](t)).slice():r.selected!==void 0?[].concat(r.selected()):e.useChips===!0?le.value.map((t,o)=>S(Cl,{key:"option-"+o,removable:l.editable.value===!0&&se.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:U.value,onRemove(){t.removeAtIndex(o)}},()=>S("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:j.value(t.opt)}))):[S("span",{[Ie.value===!0?"innerHTML":"textContent"]:$.value})]}function ut(){if(D.value===!0)return r["no-option"]!==void 0?r["no-option"]({inputValue:h.value}):void 0;const t=r.option!==void 0?r.option:n=>S(vl,{key:n.index,...n.itemProps},()=>S(dl,()=>S(fl,()=>S("span",{[n.html===!0?"innerHTML":"textContent"]:n.label}))));let o=Te("div",Me.value.map(t));return r["before-options"]!==void 0&&(o=r["before-options"]().concat(o)),il(r["after-options"],o)}function Bt(t,o){const n=o===!0?{...Oe.value,...l.splitAttrs.attributes.value}:void 0,v={ref:o===!0?M:void 0,key:"i_t",class:V.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...n,id:o===!0?l.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Vt.value};return t!==!0&&z===!0&&(Array.isArray(v.class)===!0?v.class=[...v.class,"no-pointer-events"]:v.class+=" no-pointer-events"),S("input",v)}function ot(t){C!==null&&(clearTimeout(C),C=null),k!==null&&(clearTimeout(k),k=null),!(t&&t.target&&t.target.qComposing===!0)&&(He(t.target.value||""),R=!0,T=h.value,l.focused.value!==!0&&(z!==!0||_.value===!0)&&l.focus(),e.onFilter!==void 0&&(C=setTimeout(()=>{C=null,de(h.value)},e.inputDebounce)))}function He(t,o){h.value!==t&&(h.value=t,o===!0||e.inputDebounce===0||e.inputDebounce==="0"?u("inputValue",t):k=setTimeout(()=>{k=null,u("inputValue",t)},e.inputDebounce))}function Ve(t,o,n){R=n!==!0,e.useInput===!0&&(He(t,!0),(o===!0||n!==!0)&&(T=t),o!==!0&&de(t))}function de(t,o,n){if(e.onFilter===void 0||o!==!0&&l.focused.value!==!0)return;l.innerLoading.value===!0?u("filterAbort"):(l.innerLoading.value=!0,s.value=!0),t!==""&&e.multiple!==!0&&i.value.length!==0&&R!==!0&&t===j.value(i.value[0])&&(t="");const v=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);f!==null&&clearTimeout(f),f=v,u("filter",t,(B,A)=>{(o===!0||l.focused.value===!0)&&f===v&&(clearTimeout(f),typeof B=="function"&&B(),s.value=!1,G(()=>{l.innerLoading.value=!1,l.editable.value===!0&&(o===!0?a.value===!0&&ue():a.value===!0?Qe(!0):a.value=!0),typeof A=="function"&&G(()=>{A(d)}),typeof n=="function"&&G(()=>{n(d)})}))},()=>{l.focused.value===!0&&f===v&&(clearTimeout(f),l.innerLoading.value=!1,s.value=!1),a.value===!0&&(a.value=!1)})}function pt(){return S(wt,{ref:X,class:w.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&D.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:p.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Pe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...te.value,onScrollPassive:be,onBeforeShow:it,onBeforeHide:_t,onShow:zt},ut)}function _t(t){rt(t),fe()}function zt(){ye()}function It(t){oe(t),M.value!==null&&M.value.focus(),_.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ot(t){oe(t),G(()=>{_.value=!1})}function Mt(){const t=[S(yl,{class:`col-auto ${l.fieldClass.value}`,...b.value,for:l.targetUid.value,dark:p.value,square:!0,loading:s.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...l.splitAttrs.listeners.value,onFocus:It,onBlur:Ot},{...r,rawControl:()=>l.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&t.push(S("div",{ref:ge,class:w.value+" scroll",style:e.popupContentStyle,...te.value,onClick:Ue,onScrollPassive:be},ut())),S(al,{ref:Z,modelValue:I.value,position:e.useInput===!0?"top":void 0,transitionShow:N,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:it,onBeforeHide:Ft,onHide:Et,onShow:Ht},()=>S("div",{class:"q-select__dialog"+(p.value===!0?" q-select__dialog--dark q-dark":"")+(_.value===!0?" q-select__dialog--focused":"")},t))}function Ft(t){rt(t),Z.value!==null&&Z.value.__updateRefocusTarget(l.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),l.focused.value=!1}function Et(t){ue(),l.focused.value===!1&&u("blur",t),me()}function Ht(){const t=document.activeElement;(t===null||t.id!==l.targetUid.value)&&M.value!==null&&M.value!==t&&M.value.focus(),ye()}function fe(){I.value!==!0&&(g.value=-1,a.value===!0&&(a.value=!1),l.focused.value===!1&&(f!==null&&(clearTimeout(f),f=null),l.innerLoading.value===!0&&(u("filterAbort"),l.innerLoading.value=!1,s.value=!1)))}function ve(t){l.editable.value===!0&&(z===!0?(l.onControlFocusin(t),I.value=!0,G(()=>{l.focus()})):l.focus(),e.onFilter!==void 0?de(h.value):(D.value!==!0||r["no-option"]!==void 0)&&(a.value=!0))}function ue(){I.value=!1,fe()}function me(){e.useInput===!0&&Ve(e.multiple!==!0&&e.fillInput===!0&&i.value.length!==0&&j.value(i.value[0])||"",!0,!0)}function Qe(t){let o=-1;if(t===!0){if(i.value.length!==0){const n=W.value(i.value[0]);o=e.options.findIndex(v=>ke(W.value(v),n))}K(o)}ce(o)}function Dt(t,o){a.value===!0&&l.innerLoading.value===!1&&(K(-1,!0),G(()=>{a.value===!0&&l.innerLoading.value===!1&&(t>o?K():Qe(!0))}))}function at(){I.value===!1&&X.value!==null&&X.value.updatePosition()}function it(t){t!==void 0&&oe(t),u("popupShow",t),l.hasPopupOpen=!0,l.onControlFocusin(t)}function rt(t){t!==void 0&&oe(t),u("popupHide",t),l.hasPopupOpen=!1,l.onControlFocusout(t)}function st(){z=q.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?r["no-option"]!==void 0||e.onFilter!==void 0||D.value===!1:!0),N=q.platform.is.ios===!0&&z===!0&&e.useInput===!0?"fade":e.transitionShow}return ll(st),nl(at),st(),yt(()=>{C!==null&&clearTimeout(C),k!==null&&clearTimeout(k)}),Object.assign(d,{showPopup:ve,hidePopup:ue,removeAtIndex:$e,add:Ge,toggleOption:ne,getOptionIndex:()=>g.value,setOptionIndex:ce,moveOptionSelection:Ee,filter:de,updateMenuPosition:at,updateInputValue:Ve,isOptionSelected:Ne,getEmittingOptionValue:Ye,isOptionDisabled:(...t)=>se.value.apply(null,t)===!0,getOptionValue:(...t)=>W.value.apply(null,t),getOptionLabel:(...t)=>j.value.apply(null,t)}),Object.assign(l,{innerValue:i,fieldClass:m(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:pe,targetRef:M,hasValue:H,showPopup:ve,floatingLabel:m(()=>e.hideSelected!==!0&&H.value===!0||typeof h.value=="number"||h.value.length!==0||dt(e.displayValue)),getControlChild:()=>{if(l.editable.value!==!1&&(I.value===!0||D.value!==!0||r["no-option"]!==void 0))return z===!0?Mt():pt();l.hasPopupOpen===!0&&(l.hasPopupOpen=!1)},controlEvents:{onFocusin(t){l.onControlFocusin(t)},onFocusout(t){l.onControlFocusout(t,()=>{me(),fe()})},onClick(t){if(Ue(t),z!==!0&&a.value===!0){fe(),M.value!==null&&M.value.focus();return}ve(t)}},getControl:t=>{const o=At(),n=t===!0||I.value!==!0||z!==!0;if(e.useInput===!0)o.push(Bt(t,n));else if(l.editable.value===!0){const B=n===!0?Oe.value:void 0;o.push(S("input",{ref:n===!0?M:void 0,key:"d_t",class:"q-select__focus-target",id:n===!0?l.targetUid.value:void 0,value:$.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...B,onKeydown:lt,onKeyup:Ze,onKeypress:tt})),n===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&o.push(S("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:et}))}if(ee.value!==void 0&&e.disable!==!0&&Fe.value.length!==0){const B=Fe.value.map(A=>S("option",{value:A,selected:!0}));o.push(S("select",{class:"hidden",name:ee.value,multiple:e.multiple},B))}const v=e.useInput===!0||n!==!0?void 0:l.splitAttrs.attributes.value;return S("div",{class:"q-field__native row items-center",...v,...l.splitAttrs.listeners.value},o)},getInnerAppend:()=>e.loading!==!0&&s.value!==!0&&e.hideDropdownIcon!==!0?[S(xe,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:we.value})]:null}),ht(l)}});const Be=(e,r)=>{for(const u in r){const d=e.props[u];switch(typeof d){case"object":d.default=r[u];break;case"function":e.props[u]={type:d,default:r[u]};break;case"undefined":throw new Error("unknown prop: "+u);default:throw new Error("unhandled type: "+typeof d)}}};Be(De,{rounded:!0,noCaps:!0});Be(bl,{rounded:!0,noCaps:!0});Be(cl,{outlined:!0,color:"primary-proxy"});Be(_l,{outlined:!0,color:"primary-proxy"});Be(ml,{delay:sl.DEFAULT.tooltip_delay});
