import{ax as zr,ad as Ge,J as mt,ay as Kr,a9 as ct,az as Et,X as ya,x as qt,an as zt,aa as Lt,I as Hr,j as _e,af as jr,C as ta,ag as Vr,E as aa,ai as Gr,aA as ra,aB as we,aC as ht,r as E,k as f,ak as Qr,aD as Wr,w as R,s as Be,n as Je,S as Me,aE as or,m as N,G as wa,o as tt,aF as dt,b as Oe,aG as Yr,aH as Xe,aI as Xr,aq as Jr,ab as Kt,aJ as Zr,aK as en,aL as ir,ae as Pt,aM as Fe,aN as tn,a3 as na,aO as sr,aP as ae,h as U,l as G,aQ as me,aR as ue,aS as qe,aT as Le,a8 as an,D as rn,F as nn,P as Ht,aU as on,d as Ie,aV as P,aW as p,aX as oa,aY as S,aZ as ie,a_ as sn,a$ as Bt,b0 as Ee,b1 as jt,b2 as lr,b3 as at,b4 as Ne,b5 as ye,b6 as k,b7 as x,b8 as Ce,b9 as ln,L as rt,ba as I,bb as Y,bc as _,bd as ke,be as Te,bf as ia,bg as sa,bh as V,t as he,Q as ce,ar as ur,bi as un,bj as cn,bk as re,bl as Ze,bm as bt,bn as cr,bo as dn,bp as fn,bq as vn,br as _n,bs as dr,bt as la,bu as gn,bv as $a,a5 as pn,bw as mn,bx as hn,by as Mt,bz as bn,c as ft,bA as be,R as yn,bB as wn}from"./index.87b315af.js";import{e as $n,c as Q,Q as _t,a as j,b as ne,d as xn}from"./QTooltip.57a0e38e.js";import{notify as Vt}from"./notify.bb6c1d9e.js";const ua={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},An=Object.keys(ua);ua.all=!0;function xa(e){const t={};for(const a of An)e[a]===!0&&(t[a]=!0);return Object.keys(t).length===0?ua:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const Sn=["INPUT","TEXTAREA"];function Aa(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&Sn.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function Dt(e,t,a){const o=zt(e);let r,n=o.left-t.event.x,i=o.top-t.event.y,u=Math.abs(n),c=Math.abs(i);const l=t.direction;l.horizontal===!0&&l.vertical!==!0?r=n<0?"left":"right":l.horizontal!==!0&&l.vertical===!0?r=i<0?"up":"down":l.up===!0&&i<0?(r="up",u>c&&(l.left===!0&&n<0?r="left":l.right===!0&&n>0&&(r="right"))):l.down===!0&&i>0?(r="down",u>c&&(l.left===!0&&n<0?r="left":l.right===!0&&n>0&&(r="right"))):l.left===!0&&n<0?(r="left",u<c&&(l.up===!0&&i<0?r="up":l.down===!0&&i>0&&(r="down"))):l.right===!0&&n>0&&(r="right",u<c&&(l.up===!0&&i<0?r="up":l.down===!0&&i>0&&(r="down")));let s=!1;if(r===void 0&&a===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};r=t.event.lastDir,s=!0,r==="left"||r==="right"?(o.left-=n,u=0,n=0):(o.top-=i,c=0,i=0)}return{synthetic:s,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:o,direction:r,isFirst:t.event.isFirst,isFinal:a===!0,duration:Date.now()-t.event.time,distance:{x:u,y:c},offset:{x:n,y:i},delta:{x:o.left-t.event.lastX,y:o.top-t.event.lastY}}}}let kn=0;var Ft=zr({name:"touch-pan",beforeMount(e,{value:t,modifiers:a}){if(a.mouse!==!0&&Ge.has.touch!==!0)return;function o(n,i){a.mouse===!0&&i===!0?Hr(n):(a.stop===!0&&qt(n),a.prevent===!0&&ya(n))}const r={uid:"qvtp_"+kn++,handler:t,modifiers:a,direction:xa(a),noop:mt,mouseStart(n){Aa(n,r)&&Kr(n)&&(ct(r,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),r.start(n,!0))},touchStart(n){if(Aa(n,r)){const i=n.target;ct(r,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","passiveCapture"],[i,"touchend","end","passiveCapture"]]),r.start(n)}},start(n,i){if(Ge.is.firefox===!0&&Et(e,!0),r.lastEvt=n,i===!0||a.stop===!0){if(r.direction.all!==!0&&(i!==!0||r.modifiers.mouseAllDir!==!0&&r.modifiers.mousealldir!==!0)){const l=n.type.indexOf("mouse")>-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&ya(l),n.cancelBubble===!0&&qt(l),Object.assign(l,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[r.uid]:n.qClonedBy.concat(r.uid)}),r.initialEvent={target:n.target,event:l}}qt(n)}const{left:u,top:c}=zt(n);r.event={x:u,y:c,time:Date.now(),mouse:i===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:u,lastY:c}},move(n){if(r.event===void 0)return;const i=zt(n),u=i.left-r.event.x,c=i.top-r.event.y;if(u===0&&c===0)return;r.lastEvt=n;const l=r.event.mouse===!0,s=()=>{o(n,l);let m;a.preserveCursor!==!0&&a.preservecursor!==!0&&(m=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),l===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),$n(),r.styleCleanup=d=>{if(r.styleCleanup=void 0,m!==void 0&&(document.documentElement.style.cursor=m),document.body.classList.remove("non-selectable"),l===!0){const w=()=>{document.body.classList.remove("no-pointer-events--children")};d!==void 0?setTimeout(()=>{w(),d()},50):w()}else d!==void 0&&d()}};if(r.event.detected===!0){r.event.isFirst!==!0&&o(n,r.event.mouse);const{payload:m,synthetic:d}=Dt(n,r,!1);m!==void 0&&(r.handler(m)===!1?r.end(n):(r.styleCleanup===void 0&&r.event.isFirst===!0&&s(),r.event.lastX=m.position.left,r.event.lastY=m.position.top,r.event.lastDir=d===!0?void 0:m.direction,r.event.isFirst=!1));return}if(r.direction.all===!0||l===!0&&(r.modifiers.mouseAllDir===!0||r.modifiers.mousealldir===!0)){s(),r.event.detected=!0,r.move(n);return}const y=Math.abs(u),b=Math.abs(c);y!==b&&(r.direction.horizontal===!0&&y>b||r.direction.vertical===!0&&y<b||r.direction.up===!0&&y<b&&c<0||r.direction.down===!0&&y<b&&c>0||r.direction.left===!0&&y>b&&u<0||r.direction.right===!0&&y>b&&u>0?(r.event.detected=!0,r.move(n)):r.end(n,!0))},end(n,i){if(r.event!==void 0){if(Lt(r,"temp"),Ge.is.firefox===!0&&Et(e,!1),i===!0)r.styleCleanup!==void 0&&r.styleCleanup(),r.event.detected!==!0&&r.initialEvent!==void 0&&r.initialEvent.target.dispatchEvent(r.initialEvent.event);else if(r.event.detected===!0){r.event.isFirst===!0&&r.handler(Dt(n===void 0?r.lastEvt:n,r).payload);const{payload:u}=Dt(n===void 0?r.lastEvt:n,r,!0),c=()=>{r.handler(u)};r.styleCleanup!==void 0?r.styleCleanup(c):c()}r.event=void 0,r.initialEvent=void 0,r.lastEvt=void 0}}};if(e.__qtouchpan=r,a.mouse===!0){const n=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";ct(r,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}Ge.has.touch===!0&&ct(r,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const a=e.__qtouchpan;a!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&a.end(),a.handler=t.value),a.direction=xa(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),Lt(t,"main"),Lt(t,"temp"),Ge.is.firefox===!0&&Et(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}});const Sa=150;var Cn=_e({name:"QDrawer",inheritAttrs:!1,props:{...jr,...ta,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Vr,"onLayout","miniState"],setup(e,{slots:t,emit:a,attrs:o}){const r=Oe(),{proxy:{$q:n}}=r,i=aa(e,n),{preventBodyScroll:u}=Yr(),{registerTimeout:c,removeTimeout:l}=Gr(),s=ra(ht,we);if(s===we)return console.error("QDrawer needs to be child of QLayout"),we;let y,b=null,m;const d=E(e.behavior==="mobile"||e.behavior!=="desktop"&&s.totalWidth.value<=e.breakpoint),w=f(()=>e.mini===!0&&d.value!==!0),$=f(()=>w.value===!0?e.miniWidth:e.width),h=E(e.showIfAbove===!0&&d.value===!1?!0:e.modelValue===!0),v=f(()=>e.persistent!==!0&&(d.value===!0||De.value===!0));function B(g,F){if(ee(),g!==!1&&s.animate(),le(0),d.value===!0){const oe=s.instances[pe.value];oe!==void 0&&oe.belowBreakpoint===!0&&oe.hide(!1),Ae(1),s.isContainer.value!==!0&&u(!0)}else Ae(0),g!==!1&&Tt(!1);c(()=>{g!==!1&&Tt(!0),F!==!0&&a("show",g)},Sa)}function A(g,F){O(),g!==!1&&s.animate(),Ae(0),le(de.value*$.value),Ot(),F!==!0?c(()=>{a("hide",g)},Sa):l()}const{show:q,hide:K}=Qr({showing:h,hideOnRouteChange:v,handleShow:B,handleHide:A}),{addToHistory:ee,removeFromHistory:O}=Wr(h,K,v),Z={belowBreakpoint:d,hide:K},X=f(()=>e.side==="right"),de=f(()=>(n.lang.rtl===!0?-1:1)*(X.value===!0?1:-1)),z=E(0),D=E(!1),ge=E(!1),M=E($.value*de.value),pe=f(()=>X.value===!0?"left":"right"),se=f(()=>h.value===!0&&d.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:$.value:0),fe=f(()=>e.overlay===!0||e.miniToOverlay===!0||s.view.value.indexOf(X.value?"R":"L")>-1||n.platform.is.ios===!0&&s.isContainer.value===!0),ve=f(()=>e.overlay===!1&&h.value===!0&&d.value===!1),De=f(()=>e.overlay===!0&&h.value===!0&&d.value===!1),kt=f(()=>"fullscreen q-drawer__backdrop"+(h.value===!1&&D.value===!1?" hidden":"")),st=f(()=>({backgroundColor:`rgba(0,0,0,${z.value*.4})`})),T=f(()=>X.value===!0?s.rows.value.top[2]==="r":s.rows.value.top[0]==="l"),L=f(()=>X.value===!0?s.rows.value.bottom[2]==="r":s.rows.value.bottom[0]==="l"),C=f(()=>{const g={};return s.header.space===!0&&T.value===!1&&(fe.value===!0?g.top=`${s.header.offset}px`:s.header.space===!0&&(g.top=`${s.header.size}px`)),s.footer.space===!0&&L.value===!1&&(fe.value===!0?g.bottom=`${s.footer.offset}px`:s.footer.space===!0&&(g.bottom=`${s.footer.size}px`)),g}),W=f(()=>{const g={width:`${$.value}px`,transform:`translateX(${M.value}px)`};return d.value===!0?g:Object.assign(g,C.value)}),te=f(()=>"q-drawer__content fit "+(s.isContainer.value!==!0?"scroll":"overflow-auto")),J=f(()=>`q-drawer q-drawer--${e.side}`+(ge.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(i.value===!0?" q-drawer--dark q-dark":"")+(D.value===!0?" no-transition":h.value===!0?"":" q-layout--prevent-focus")+(d.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${w.value===!0?"mini":"standard"}`+(fe.value===!0||ve.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(T.value===!0?" q-drawer--top-padding":""))),Ve=f(()=>{const g=n.lang.rtl===!0?e.side:pe.value;return[[Ft,Rr,void 0,{[g]:!0,mouse:!0}]]}),lt=f(()=>{const g=n.lang.rtl===!0?pe.value:e.side;return[[Ft,ba,void 0,{[g]:!0,mouse:!0}]]}),Fr=f(()=>{const g=n.lang.rtl===!0?pe.value:e.side;return[[Ft,ba,void 0,{[g]:!0,mouse:!0,mouseAllDir:!0}]]});function Ct(){Ur(d,e.behavior==="mobile"||e.behavior!=="desktop"&&s.totalWidth.value<=e.breakpoint)}R(d,g=>{g===!0?(y=h.value,h.value===!0&&K(!1)):e.overlay===!1&&e.behavior!=="mobile"&&y!==!1&&(h.value===!0?(le(0),Ae(0),Ot()):q(!1))}),R(()=>e.side,(g,F)=>{s.instances[F]===Z&&(s.instances[F]=void 0,s[F].space=!1,s[F].offset=0),s.instances[g]=Z,s[g].size=$.value,s[g].space=ve.value,s[g].offset=se.value}),R(s.totalWidth,()=>{(s.isContainer.value===!0||document.qScrollPrevented!==!0)&&Ct()}),R(()=>e.behavior+e.breakpoint,Ct),R(s.isContainer,g=>{h.value===!0&&u(g!==!0),g===!0&&Ct()}),R(s.scrollbarWidth,()=>{le(h.value===!0?0:void 0)}),R(se,g=>{Se("offset",g)}),R(ve,g=>{a("onLayout",g),Se("space",g)}),R(X,()=>{le()}),R($,g=>{le(),It(e.miniToOverlay,g)}),R(()=>e.miniToOverlay,g=>{It(g,$.value)}),R(()=>n.lang.rtl,()=>{le()}),R(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Nr(),s.animate())}),R(w,g=>{a("miniState",g)});function le(g){g===void 0?Je(()=>{g=h.value===!0?0:$.value,le(de.value*g)}):(s.isContainer.value===!0&&X.value===!0&&(d.value===!0||Math.abs(g)===$.value)&&(g+=de.value*s.scrollbarWidth.value),M.value=g)}function Ae(g){z.value=g}function Tt(g){const F=g===!0?"remove":s.isContainer.value!==!0?"add":"";F!==""&&document.body.classList[F]("q-body--drawer-toggle")}function Nr(){b!==null&&clearTimeout(b),r.proxy&&r.proxy.$el&&r.proxy.$el.classList.add("q-drawer--mini-animate"),ge.value=!0,b=setTimeout(()=>{b=null,ge.value=!1,r&&r.proxy&&r.proxy.$el&&r.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Rr(g){if(h.value!==!1)return;const F=$.value,oe=dt(g.distance.x,0,F);if(g.isFinal===!0){oe>=Math.min(75,F)===!0?q():(s.animate(),Ae(0),le(de.value*F)),D.value=!1;return}le((n.lang.rtl===!0?X.value!==!0:X.value)?Math.max(F-oe,0):Math.min(0,oe-F)),Ae(dt(oe/F,0,1)),g.isFirst===!0&&(D.value=!0)}function ba(g){if(h.value!==!0)return;const F=$.value,oe=g.direction===e.side,ut=(n.lang.rtl===!0?oe!==!0:oe)?dt(g.distance.x,0,F):0;if(g.isFinal===!0){Math.abs(ut)<Math.min(75,F)===!0?(s.animate(),Ae(1),le(0)):K(),D.value=!1;return}le(de.value*ut),Ae(dt(1-ut/F,0,1)),g.isFirst===!0&&(D.value=!0)}function Ot(){u(!1),Tt(!0)}function Se(g,F){s.update(e.side,g,F)}function Ur(g,F){g.value!==F&&(g.value=F)}function It(g,F){Se("size",g===!0?e.miniWidth:F)}return s.instances[e.side]=Z,It(e.miniToOverlay,$.value),Se("space",ve.value),Se("offset",se.value),e.showIfAbove===!0&&e.modelValue!==!0&&h.value===!0&&e["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!0),Be(()=>{a("onLayout",ve.value),a("miniState",w.value),y=e.showIfAbove===!0;const g=()=>{(h.value===!0?B:A)(!1,!0)};if(s.totalWidth.value!==0){Je(g);return}m=R(s.totalWidth,()=>{m(),m=void 0,h.value===!1&&e.showIfAbove===!0&&d.value===!1?q(!1):g()})}),Me(()=>{m!==void 0&&m(),b!==null&&(clearTimeout(b),b=null),h.value===!0&&Ot(),s.instances[e.side]===Z&&(s.instances[e.side]=void 0,Se("size",0),Se("offset",0),Se("space",!1))}),()=>{const g=[];d.value===!0&&(e.noSwipeOpen===!1&&g.push(or(N("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ve.value)),g.push(wa("div",{ref:"backdrop",class:kt.value,style:st.value,"aria-hidden":"true",onClick:K},void 0,"backdrop",e.noSwipeBackdrop!==!0&&h.value===!0,()=>Fr.value)));const F=w.value===!0&&t.mini!==void 0,oe=[N("div",{...o,key:""+F,class:[te.value,o.class]},F===!0?t.mini():tt(t.default))];return e.elevated===!0&&h.value===!0&&oe.push(N("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),g.push(wa("aside",{ref:"content",class:J.value,style:W.value},oe,"contentclose",e.noSwipeClose!==!0&&d.value===!0,()=>lt.value)),N("div",{class:"q-drawer-container"},g)}}}),Tn=_e({name:"QPageContainer",setup(e,{slots:t}){const{proxy:{$q:a}}=Oe(),o=ra(ht,we);if(o===we)return console.error("QPageContainer needs to be child of QLayout"),we;Xe(Xr,!0);const r=f(()=>{const n={};return o.header.space===!0&&(n.paddingTop=`${o.header.size}px`),o.right.space===!0&&(n[`padding${a.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(n.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(n[`padding${a.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),n});return()=>N("div",{class:"q-page-container",style:r.value},tt(t.default))}});const{passive:ka}=Kt,On=["both","horizontal","vertical"];var In=_e({name:"QScrollObserver",props:{axis:{type:String,validator:e=>On.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:t}){const a={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,r,n;R(()=>e.scrollTarget,()=>{c(),u()});function i(){o!==null&&o();const y=Math.max(0,Zr(r)),b=en(r),m={top:y-a.position.top,left:b-a.position.left};if(e.axis==="vertical"&&m.top===0||e.axis==="horizontal"&&m.left===0)return;const d=Math.abs(m.top)>=Math.abs(m.left)?m.top<0?"up":"down":m.left<0?"left":"right";a.position={top:y,left:b},a.directionChanged=a.direction!==d,a.delta=m,a.directionChanged===!0&&(a.direction=d,a.inflectionPoint=a.position),t("scroll",{...a})}function u(){r=Jr(n,e.scrollTarget),r.addEventListener("scroll",l,ka),l(!0)}function c(){r!==void 0&&(r.removeEventListener("scroll",l,ka),r=void 0)}function l(y){if(y===!0||e.debounce===0||e.debounce==="0")i();else if(o===null){const[b,m]=e.debounce?[setTimeout(i,e.debounce),clearTimeout]:[requestAnimationFrame(i),cancelAnimationFrame];o=()=>{m(b),o=null}}}const{proxy:s}=Oe();return R(()=>s.$q.lang.rtl,i),Be(()=>{n=s.$el.parentNode,u()}),Me(()=>{o!==null&&o(),c()}),Object.assign(s,{trigger:l,getPosition:()=>a}),mt}});function En(){const e=E(!ir.value);return e.value===!1&&Be(()=>{e.value=!0}),e}const fr=typeof ResizeObserver!="undefined",Ca=fr===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var Gt=_e({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let a=null,o,r={width:-1,height:-1};function n(c){c===!0||e.debounce===0||e.debounce==="0"?i():a===null&&(a=setTimeout(i,e.debounce))}function i(){if(a!==null&&(clearTimeout(a),a=null),o){const{offsetWidth:c,offsetHeight:l}=o;(c!==r.width||l!==r.height)&&(r={width:c,height:l},t("resize",r))}}const{proxy:u}=Oe();if(fr===!0){let c;const l=s=>{o=u.$el.parentNode,o?(c=new ResizeObserver(n),c.observe(o),i()):s!==!0&&Je(()=>{l(!0)})};return Be(()=>{l()}),Me(()=>{a!==null&&clearTimeout(a),c!==void 0&&(c.disconnect!==void 0?c.disconnect():o&&c.unobserve(o))}),mt}else{let s=function(){a!==null&&(clearTimeout(a),a=null),l!==void 0&&(l.removeEventListener!==void 0&&l.removeEventListener("resize",n,Kt.passive),l=void 0)},y=function(){s(),o&&o.contentDocument&&(l=o.contentDocument.defaultView,l.addEventListener("resize",n,Kt.passive),i())};const c=En();let l;return Be(()=>{Je(()=>{o=u.$el,o&&y()})}),Me(s),u.trigger=n,()=>{if(c.value===!0)return N("object",{style:Ca.style,tabindex:-1,type:"text/html",data:Ca.url,"aria-hidden":"true",onLoad:y})}}}}),qn=_e({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:t,emit:a}){const{proxy:{$q:o}}=Oe(),r=E(null),n=E(o.screen.height),i=E(e.container===!0?0:o.screen.width),u=E({position:0,direction:"down",inflectionPoint:0}),c=E(0),l=E(ir.value===!0?0:Pt()),s=f(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),y=f(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),b=f(()=>l.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${l.value}px`}:null),m=f(()=>l.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${l.value}px`,width:`calc(100% + ${l.value}px)`}:null);function d(A){if(e.container===!0||document.qScrollPrevented!==!0){const q={position:A.position.top,direction:A.direction,directionChanged:A.directionChanged,inflectionPoint:A.inflectionPoint.top,delta:A.delta.top};u.value=q,e.onScroll!==void 0&&a("scroll",q)}}function w(A){const{height:q,width:K}=A;let ee=!1;n.value!==q&&(ee=!0,n.value=q,e.onScrollHeight!==void 0&&a("scrollHeight",q),h()),i.value!==K&&(ee=!0,i.value=K),ee===!0&&e.onResize!==void 0&&a("resize",A)}function $({height:A}){c.value!==A&&(c.value=A,h())}function h(){if(e.container===!0){const A=n.value>c.value?Pt():0;l.value!==A&&(l.value=A)}}let v=null;const B={instances:{},view:f(()=>e.view),isContainer:f(()=>e.container),rootRef:r,height:n,containerHeight:c,scrollbarWidth:l,totalWidth:f(()=>i.value+l.value),rows:f(()=>{const A=e.view.toLowerCase().split(" ");return{top:A[0].split(""),middle:A[1].split(""),bottom:A[2].split("")}}),header:Fe({size:0,offset:0,space:!1}),right:Fe({size:300,offset:0,space:!1}),footer:Fe({size:0,offset:0,space:!1}),left:Fe({size:300,offset:0,space:!1}),scroll:u,animate(){v!==null?clearTimeout(v):document.body.classList.add("q-body--layout-animate"),v=setTimeout(()=>{v=null,document.body.classList.remove("q-body--layout-animate")},155)},update(A,q,K){B[A][q]=K}};if(Xe(ht,B),Pt()>0){let K=function(){A=null,q.classList.remove("hide-scrollbar")},ee=function(){if(A===null){if(q.scrollHeight>o.screen.height)return;q.classList.add("hide-scrollbar")}else clearTimeout(A);A=setTimeout(K,300)},O=function(Z){A!==null&&Z==="remove"&&(clearTimeout(A),K()),window[`${Z}EventListener`]("resize",ee)},A=null;const q=document.body;R(()=>e.container!==!0?"add":"remove",O),e.container!==!0&&O("add"),tn(()=>{O("remove")})}return()=>{const A=na(t.default,[N(In,{onScroll:d}),N(Gt,{onResize:w})]),q=N("div",{class:s.value,style:y.value,ref:e.container===!0?void 0:r,tabindex:-1},A);return e.container===!0?N("div",{class:"q-layout-container overflow-hidden",ref:r},[N(Gt,{onResize:$}),N("div",{class:"absolute-full",style:b.value},[N("div",{class:"scroll",style:m.value},[q])])]):q}}});const vr=sr("search",{state:()=>({search:"",filters:{type:ae.type.NOT_SET,date:ae.date.NOT_SET,sort:ae.sort.NOT_SET},per_page:U.DEFAULT_PAGINATION.searchPerPage,page:U.DEFAULT_PAGINATION.page}),getters:{no_filter_type:e=>e.filters.type===ae.type.NOT_SET,has_filter_type:e=>Boolean(e.filters.type),is_filter_type_moment:e=>e.filters.type===ae.type.MOMENT,is_filter_type_user:e=>e.filters.type===ae.type.USER,is_filter_type_video:e=>e.filters.type===ae.type.VIDEO,is_type_filter_with_restricted_sort:e=>[ae.type.USER,ae.type.VIDEO].includes(e.filters.type)&&e.filters.sort!==ae.sort.DATE_ADDED,processed_filters:e=>{return G.exports.chain({date:t(),type:e.filters.type,sort:e.filters.sort}).pickBy(a=>!G.exports.isEmpty(a)&&!G.exports.isNil(a)).value();function t(){switch(e.filters.date){case ae.date.LAST_HOUR:return{start:me().subtract(1,"hour").utc().toISOString(),end:me().utc().toISOString()};case ae.date.TODAY:return{start:me().startOf("day").utc().toISOString(),end:me().endOf("day").utc().toISOString()};case ae.date.THIS_WEEK:return{start:me().startOf("week").utc().toISOString(),end:me().endOf("week").utc().toISOString()};case ae.date.THIS_MONTH:return{start:me().startOf("month").utc().toISOString(),end:me().endOf("month").utc().toISOString()};case ae.date.THIS_YEAR:return{start:me().startOf("year").utc().toISOString(),end:me().endOf("year").utc().toISOString()}}}},no_active_filters:e=>!(e.filters.type||e.filters.date||e.filters.sort)},actions:{async get(e){const t=ue();return qe.get(U.ENDPOINTS.search,{params:e,headers:Le(t.access_token)})},clear_filters(){G.exports.merge(this.filters,U.DEFAULT.search_filters)},expand_search_type(e){this.filters.type=e,this.expanded_pages()},expanded_pages(){this.page=U.DEFAULT_PAGINATION.page,this.per_page=U.DEFAULT_PAGINATION.rowsPerPage},is_empty_or_type(e){return this.no_filter_type||this.filters.type===e}}});var Ln=_e({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:a}){const{proxy:{$q:o}}=Oe(),r=ra(ht,we);if(r===we)return console.error("QHeader needs to be child of QLayout"),we;const n=E(parseInt(e.heightHint,10)),i=E(!0),u=f(()=>e.reveal===!0||r.view.value.indexOf("H")>-1||o.platform.is.ios&&r.isContainer.value===!0),c=f(()=>{if(e.modelValue!==!0)return 0;if(u.value===!0)return i.value===!0?n.value:0;const v=n.value-r.scroll.value.position;return v>0?v:0}),l=f(()=>e.modelValue!==!0||u.value===!0&&i.value!==!0),s=f(()=>e.modelValue===!0&&l.value===!0&&e.reveal===!0),y=f(()=>"q-header q-layout__section--marginal "+(u.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(l.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),b=f(()=>{const v=r.rows.value.top,B={};return v[0]==="l"&&r.left.space===!0&&(B[o.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),v[2]==="r"&&r.right.space===!0&&(B[o.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),B});function m(v,B){r.update("header",v,B)}function d(v,B){v.value!==B&&(v.value=B)}function w({height:v}){d(n,v),m("size",v)}function $(v){s.value===!0&&d(i,!0),a("focusin",v)}R(()=>e.modelValue,v=>{m("space",v),d(i,!0),r.animate()}),R(c,v=>{m("offset",v)}),R(()=>e.reveal,v=>{v===!1&&d(i,e.modelValue)}),R(i,v=>{r.animate(),a("reveal",v)}),R(r.scroll,v=>{e.reveal===!0&&d(i,v.direction==="up"||v.position<=e.revealOffset||v.position-v.inflectionPoint<100)});const h={};return r.instances.header=h,e.modelValue===!0&&m("size",n.value),m("space",e.modelValue),m("offset",c.value),Me(()=>{r.instances.header===h&&(r.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const v=an(t.default,[]);return e.elevated===!0&&v.push(N("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),v.push(N(Gt,{debounce:0,onResize:w})),N("header",{class:y.value,style:b.value,onFocusin:$},v)}}});const Pn={xs:2,sm:4,md:6,lg:10,xl:14};function Ta(e,t,a){return{transform:t===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var Bn=_e({name:"QLinearProgress",props:{...ta,...rn,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:a}=Oe(),o=aa(e,a.$q),r=nn(e,Pn),n=f(()=>e.indeterminate===!0||e.query===!0),i=f(()=>e.reverse!==e.query),u=f(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),c=f(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),l=f(()=>Ta(e.buffer!==void 0?e.buffer:1,i.value,a.$q)),s=f(()=>`with${e.instantFeedback===!0?"out":""}-transition`),y=f(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${s.value} q-linear-progress__track--${o.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),b=f(()=>Ta(n.value===!0?1:e.value,i.value,a.$q)),m=f(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${s.value} q-linear-progress__model--${n.value===!0?"in":""}determinate`),d=f(()=>({width:`${e.value*100}%`})),w=f(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${s.value}`);return()=>{const $=[N("div",{class:y.value,style:l.value}),N("div",{class:m.value,style:b.value})];return e.stripe===!0&&n.value===!1&&$.push(N("div",{class:w.value,style:d.value})),N("div",{class:c.value,style:u.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},na(t.default,$))}}}),et=_e({name:"QList",props:{...ta,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const a=Oe(),o=aa(e,a.proxy.$q),r=f(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(o.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>N(e.tag,{class:r.value},tt(t.default))}});function Mn(e){const t=Object.assign({noopener:!0},e),a=[];for(const o in t){const r=t[o];r===!0?a.push(o):(on(r)||typeof r=="string"&&r!=="")&&a.push(o+"="+r)}return a.join(",")}function Oa(e,t,a){let o=window.open;if(Ht.is.cordova===!0){if(cordova!==void 0&&cordova.InAppBrowser!==void 0&&cordova.InAppBrowser.open!==void 0)o=cordova.InAppBrowser.open;else if(navigator!==void 0&&navigator.app!==void 0)return navigator.app.loadUrl(e,{openExternal:!0})}const r=o(e,"_blank",Mn(a));if(r)return Ht.is.desktop&&r.focus(),r;t&&t()}var Ye=(e,t,a)=>{if(Ht.is.ios===!0&&window.SafariViewController!==void 0){window.SafariViewController.isAvailable(o=>{o?window.SafariViewController.show({url:e},mt,t):Oa(e,t,a)});return}return Oa(e,t,a)},_r=_e({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const a=f(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>N("div",{class:a.value,role:"toolbar"},tt(t.default))}});const ca=sr("heartbeats",{actions:{async get_heartbeat_details(e){if(!e)return{};const t=ue();return qe.get(U.ENDPOINTS.heartbeat.get(e),{headers:Le(t.access_token)})},update(e){const t={...e},a=ue();return qe.put(U.ENDPOINTS.heartbeat.update(t.custom_id),t,{headers:Le(a.access_token)})},async update_configs(e){var a,o,r,n;const t=ue();e.playback=e.playback!==void 0?e.playback:(o=(a=t.user)==null?void 0:a.configs)==null?void 0:o.playback,e.dark_mode=e.dark_mode!==void 0?e.dark_mode:(n=(r=t.user)==null?void 0:r.configs)==null?void 0:n.dark_mode,t.user&&await qe.post(U.ENDPOINTS.heartbeat.update_configs(t.user.heartbeat_id),e,{headers:Le(t.access_token)})},async get_creators(e){const t=ue();return await qe.get(U.ENDPOINTS.heartbeat.get_creators,{params:e,headers:Le(t.access_token)})},async get_heartbeats(e){const t=ue();return await qe.get(U.ENDPOINTS.heartbeat.find_where_in,{params:e,headers:Le(t.access_token)})},async is_following(e){const t=ue();return await qe.get(U.ENDPOINTS.heartbeat.is_following(e.heartbeat_id),{params:e,headers:Le(t.access_token)})}}});var Dn="/delta-tools/assets/blank-avatar.665b8189.png";var nt=(e,t)=>{const a=e.__vccOpts||e;for(const[o,r]of t)a[o]=r;return a};const Fn=["src","alt"],Nn={key:1,src:Dn},Rn=Ie({__name:"FAvatar",props:{src:{default:null},size:{default:"24px"},name:{default:"User"}},setup(e){const t=E(),a=e,o=E(!0);function r(){o.value=!1}function n(){sn(t.value)}return(i,u)=>(S(),P(oa,{size:a.size,class:"f-avatar hb-border-all bg-white"},{default:p(()=>[o.value&&a.src?(S(),ie("img",{key:0,ref_key:"avatar",ref:t,class:"avatar-image",src:a.src,alt:`${a.name} avatar`,onLoad:n,onError:r},null,40,Fn)):(S(),ie("img",Nn))]),_:1},8,["size"]))}});var Qt=nt(Rn,[["__scopeId","data-v-33ce970c"]]);function gr(){const e=ue(),t=ca(),a=f(()=>e.user),o=E(),r=E(),n=f(()=>Bt.getItem("dark"));n.value==="auto"||a.value===null?o.value=i(Ee.isActive):o.value=i(n.value);function i(s){return typeof s!="string"?s:["1","0"].includes(s)?s==="1":"auto"}async function u(){try{Ee.toggle(),Bt.set("dark",Ee.isActive),await t.update_configs({dark_mode:Ee.isActive})}catch(s){const y=G.exports.get(s,"response.status");let b="";switch(y){case 401:return e.force_logout();case 403:b="Not enough permission to update configuration";break;default:b=`${jt(s)}: Unable to save configuration`;break}Vt.error(b)}}async function c(){var s,y;try{Ee.set(o.value),l(o.value),r.value=i(G.exports.get(await t.get_heartbeat_details((s=a==null?void 0:a.value)==null?void 0:s.heartbeat_id),"data.data.objList.0.configs.dark_mode"));const b=(y=r.value)!=null?y:"auto";Bt.set("dark",b),Ee.set(b)}catch(b){const m=G.exports.get(b,"response.status");let d="";switch(m){case 401:return e.force_logout();default:d=`${jt(b)}: Unable to fetch configuration`;break}Vt.error(d)}}function l(s){const y=document.documentElement;s?y.setAttribute("dark",""):y.removeAttribute("dark"),y.removeAttribute("auto")}return R(()=>Ee.isActive,s=>{o.value=i(s),l(i(s))}),{dark_mode:o,dark_mode_toggle:u,get_user_dark_mode:c}}const Un=e=>(fn("data-v-f25fe41e"),e=e(),vn(),e),zn=Un(()=>V("span",{class:"non-selectable",textContent:"Delta Tools"},null,-1)),Kn={class:"col-auto left-buttons-container"},Hn=["textContent"],jn=["textContent"],Vn=["textContent"],Gn=["textContent"],Qn=["textContent"],Wn=["textContent"],Yn=!1,Xn=Ie({__name:"WebHeader",emits:["menu-clicked"],setup(e,{emit:t}){const a=t,o=lr(),r=at(),n=ca(),i=ue(),u=Ne(),c=gr(),l=ia.getInstance(),s=E(),y=f(()=>{var z,D;return`top: ${(D=(z=s.value)==null?void 0:z.$el)==null?void 0:D.clientHeight}px`}),b=E(!1),m=E(!1),d=f(()=>m.value&&b.value&&r.name!=="search"),w=E(),$=E();f(()=>u.screen.lt.sm),f(()=>u.screen.gt.xs?void 0:"sym_r_account_circle"),f(()=>u.screen.gt.xs?k(x.sign_in):void 0),f(()=>u.screen.gt.xs||m.value);const h=f(()=>i.is_logged_in),v=f(()=>i.user);f(()=>o.is_search_video_modal_visible);const B=f(()=>{var z,D;return G.exports.get(G.exports.find(q[0].sub_menu,{value:(D=(z=v==null?void 0:v.value)==null?void 0:z.configs)==null?void 0:D.playback}),"label")}),A=Fe([{component:ye,spaced:!0},{item_id:"dark_mode",label:k(x.dark_mode),toggle:!0,toggle_model:c.dark_mode,component:Q,toggle_action:()=>c.dark_mode_toggle()},{item_id:"playback_settings",label:k(x.playback_settings),icon:"sym_r_replay",component:Q,action:()=>Z()},{item_id:"submit_feedback",icon:"sym_r_feedback",icon_class:"fill",label:k(x.submit_feedback),icon_right:"sym_r_open_in_new",component:Q,action:()=>ee()},{component:ye,spaced:!0},{item_id:"switch_account",icon:"sym_r_swap_horiz",label:k(x.switch_account),component:Q,action:()=>de()},{item_id:"sign_out",icon:"sym_r_exit_to_app",label:k(x.sign_out),component:Q,action:()=>K()}]),q=[{label:k(x.playback_mode),sublabel:k(x.playback_mode_sublabel),sub_menu:[{label:k(x.continuous),value:Ce.CONTINUE,icon:"sym_r_all_inclusive"},{label:k(x.next_moment),value:Ce.NEXT_MOMENT,icon:"sym_r_skip_next"},{label:k(x.loop_moment),value:Ce.LOOP,icon:"sym_r_repeat"},{label:k(x.pause_moment),value:Ce.PAUSE,icon:"sym_r_motion_photos_paused"}]}];async function K(){r.fullPath&&await l.storage_set({page_before_logout:r.fullPath}),await i.logout()}function ee(){Ye(U.USER_FEEDBACK_LINK)}function O(){var z,D;(z=$.value)==null||z.hide(),(D=w.value)==null||D.show()}function Z(){var z,D;(z=$.value)==null||z.show(),(D=w.value)==null||D.hide()}async function X(z){try{await n.update_configs({playback:z}),i.$patch(D=>{D.user&&(D.user.configs={playback:z})})}catch(D){const ge=G.exports.get(D,"response.status");if(ge===401)return i.force_logout();const M=ge===403?"Not enough permission update configuration":jt(D);Vt.error(M)}}function de(){return ln(U.SWITCH_ACCOUNT_URL)}return R(()=>u.screen.gt.xs,z=>{z&&(m.value=!1)}),R(()=>r.name,z=>{z!=="search"&&(m.value=!1)}),R(()=>d.value,z=>{z?document.body.classList.add("q-body--force-scrollbar-y","q-body--prevent-scroll"):document.body.classList.remove("q-body--force-scrollbar-y","q-body--prevent-scroll")}),rt(async()=>{await c.get_user_dark_mode()}),(z,D)=>{const ge=sa("RouterLink");return S(),ie(Te,null,[I(o).is_page_loaded?Y("",!0):(S(),P(Bn,{key:0,indeterminate:"",class:"fixed"})),_(I(_r),{ref_key:"web_header",ref:s,class:ke(["web-header text-primary-hb",{"q-px-sm":I(u).screen.xs,"q-py-sm":!I(u).screen.xs,"search-bar-expanded gap-sm":m.value}])},{default:p(()=>[V("div",{class:ke([{"q-px-sm":I(u).screen.gt.sm},"col-auto flex items-center gap-sm"])},[m.value?(S(),P(he,{key:1,round:"",flat:"",icon:"sym_r_arrow_back",onClick:D[1]||(D[1]=M=>m.value=!1)})):(S(),ie(Te,{key:0},[_(he,{dense:"",round:"",flat:"",icon:"sym_r_menu","data-cy":"header:menu_btn",onClick:D[0]||(D[0]=M=>a("menu-clicked"))}),_(ge,{to:"/","aria-label":I(U).APP_TITLE,"data-cy":"header:logo_link",class:"heartbeat-logo row items-center gap-xs"},{default:p(()=>[_(ce,{name:"sym_r_change_history"}),zn]),_:1},8,["aria-label"])],64))],2),V("div",{class:ke(["col search-bar-container",{"q-px-lg":I(u).screen.gt.xs}])},[(S(),P(cn,{to:"body",disabled:!I(u).screen.xs&&!m.value},[_(ur,null,{default:p(()=>[d.value?(S(),ie("div",{key:0,class:ke(["search-overlay fixed-full fullscreen q-dialog__backdrop",{"bg-highlight-invert-80":I(u).dark.isActive}]),style:un(y.value),onClick:D[2]||(D[2]=M=>b.value=!1)},null,6)):Y("",!0)]),_:1})],8,["disabled"]))],2),V("div",Kn,[h.value&&v.value&&Yn?(S(),P(he,{key:0,round:"",flat:"",icon:"video_call",onClick:I(o).open_search_video_modal},null,8,["onClick"])):Y("",!0),h.value&&v.value&&!m.value?(S(),P(he,{key:1,round:"",flat:"","data-cy":"header:avatar_btn"},{default:p(()=>[_(Qt,{src:v.value.avatar,name:v.value.name},null,8,["src","name"]),_(I(_t),{ref_key:"user_menu",ref:w},{default:p(()=>[_(et,{class:"menu",padding:""},{default:p(()=>[_(I(Q),null,{default:p(()=>[_(j,{side:""},{default:p(()=>[_(Qt,{size:"36px",src:v.value.avatar,name:v.value.name},null,8,["src","name"])]),_:1}),_(j,null,{default:p(()=>[_(ne,null,{default:p(()=>[V("span",{textContent:re(v.value.name)},null,8,Hn)]),_:1}),_(ne,{caption:""},{default:p(()=>[V("span",{textContent:re(v.value.email)},null,8,jn)]),_:1})]),_:1})]),_:1}),_(I(Q),null,{default:p(()=>[_(j,null,{default:p(()=>[_(he,{to:`/@${v.value.heartbeat_handle}`,"aria-label":I(k)(I(x).view_my_heartbeat),label:I(k)(I(x).view_my_heartbeat),unelevated:"",color:"primary-proxy-highlight-8","text-color":"primary-proxy"},null,8,["to","aria-label","label"])]),_:1})]),_:1}),(S(!0),ie(Te,null,Ze(A,(M,pe)=>(S(),P(bt(M.component),{key:pe,spaced:M.spaced,"aria-label":M.label,clickable:"",tag:M.toggle?"label":void 0,"data-cy":`header:account_menu_${M.item_id}`,onClick:M.action},{default:p(()=>[M.icon?(S(),P(j,{key:0,side:"",class:"q-mx-xs"},{default:p(()=>[M.icon?(S(),P(ce,{key:0,name:M.icon,class:ke(M.icon_class)},null,8,["name","class"])):Y("",!0)]),_:2},1024)):Y("",!0),M.toggle?(S(),P(j,{key:1,side:""},{default:p(()=>[_(cr,{"model-value":M.toggle_model,"onUpdate:modelValue":[se=>M.toggle_model=se,M.toggle_action],dense:""},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)):Y("",!0),_(j,{"no-wrap":"",class:"non-selectable"},{default:p(()=>{var se,fe;return[_(ne,null,{default:p(()=>[V("span",{class:"no-wrap",textContent:re(M.label)},null,8,Vn)]),_:2},1024),M.item_id==="playback_settings"&&((fe=(se=v.value)==null?void 0:se.configs)==null?void 0:fe.playback)?(S(),P(ne,{key:0,caption:""},{default:p(()=>[V("span",{textContent:re(B.value)},null,8,Gn)]),_:1})):Y("",!0)]}),_:2},1024),M.icon_right?(S(),P(j,{key:2,side:"",class:"icon-right"},{default:p(()=>[_(ce,{name:M.icon_right,color:"secondary-hb"},null,8,["name"])]),_:2},1024)):Y("",!0)]),_:2},1032,["spaced","aria-label","tag","data-cy","onClick"]))),128))]),_:1})]),_:1},512),_(I(_t),{ref_key:"playback_submenu",ref:$,"auto-close":""},{default:p(()=>[_(et,{class:"menu",padding:""},{default:p(()=>[_(I(Q),{clickable:"",onClick:O},{default:p(()=>[_(j,{side:""},{default:p(()=>[_(ce,{name:"sym_r_arrow_back"})]),_:1}),_(j,{"no-wrap":""},{default:p(()=>[_(ne,null,{default:p(()=>[V("span",{textContent:re(q[0].label)},null,8,Qn)]),_:1}),_(ne,{caption:""},{default:p(()=>[V("span",{textContent:re(q[0].sublabel)},null,8,Wn)]),_:1})]),_:1})]),_:1}),_(I(ye),{spaced:""}),(S(!0),ie(Te,null,Ze(q[0].sub_menu,(M,pe)=>{var se,fe;return S(),P(I(Q),{key:pe,active:M.value===((fe=(se=v.value)==null?void 0:se.configs)==null?void 0:fe.playback),"active-class":"bg-primary-proxy-highlight-8 text-primary-proxy",clickable:"",onClick:ve=>X(M.value)},{default:p(()=>[_(j,{side:""},{default:p(()=>[_(ce,{name:M.icon},null,8,["name"])]),_:2},1024),_(j,null,{default:p(()=>[_(ne,null,{default:p(()=>[dn(re(M.label),1)]),_:2},1024)]),_:2},1024),_(j,{side:""},{default:p(()=>{var ve,De;return[_(ce,{name:"sym_r_check",class:ke({invisible:M.value!==((De=(ve=v.value)==null?void 0:ve.configs)==null?void 0:De.playback)})},null,8,["class"])]}),_:2},1024)]),_:2},1032,["active","onClick"])}),128))]),_:1})]),_:1},512)]),_:1})):Y("",!0)])]),_:1},8,["class"])],64)}}});var Jn=nt(Xn,[["__scopeId","data-v-f25fe41e"]]);const Zn={ratio:[String,Number]};function eo(e,t){return f(()=>{const a=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(a)!==!0&&a>0?{paddingBottom:`${100/a}%`}:null})}const to=16/9;var ao=_e({name:"QImg",props:{...Zn,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:to},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:a}){const o=E(e.initialRatio),r=eo(e,o);let n=null,i=!1;const u=[E(null),E($())],c=E(0),l=E(!1),s=E(!1),y=f(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),b=f(()=>({width:e.width,height:e.height})),m=f(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),d=f(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));R(()=>w(),h);function w(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function $(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function h(O){n!==null&&(clearTimeout(n),n=null),s.value=!1,O===null?(l.value=!1,u[c.value^1].value=$()):l.value=!0,u[c.value].value=O}function v({target:O}){i!==!0&&(n!==null&&(clearTimeout(n),n=null),o.value=O.naturalHeight===0?.5:O.naturalWidth/O.naturalHeight,B(O,1))}function B(O,Z){i===!0||Z===1e3||(O.complete===!0?A(O):n=setTimeout(()=>{n=null,B(O,Z+1)},50))}function A(O){i!==!0&&(c.value=c.value^1,u[c.value].value=null,l.value=!1,s.value=!1,a("load",O.currentSrc||O.src))}function q(O){n!==null&&(clearTimeout(n),n=null),l.value=!1,s.value=!0,u[c.value].value=null,u[c.value^1].value=$(),a("error",O)}function K(O){const Z=u[O].value,X={key:"img_"+O,class:m.value,style:d.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...Z};return c.value===O?(X.class+=" q-img__image--waiting",Object.assign(X,{onLoad:v,onError:q})):X.class+=" q-img__image--loaded",N("div",{class:"q-img__container absolute-full",key:"img"+O},N("img",X))}function ee(){return l.value!==!0?N("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},tt(t[s.value===!0?"error":"default"])):N("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[N(_n,{color:e.spinnerColor,size:e.spinnerSize})])}return h(w()),Me(()=>{i=!0,n!==null&&(clearTimeout(n),n=null)}),()=>{const O=[];return r.value!==null&&O.push(N("div",{key:"filler",style:r.value})),s.value!==!0&&(u[0].value!==null&&O.push(K(0)),u[1].value!==null&&O.push(K(1))),O.push(N(ur,{name:"q-transition--fade"},ee)),N("div",{class:y.value,style:b.value,role:"img","aria-label":e.alt},O)}}});const ro=["top","middle","bottom"];var no=_e({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>ro.includes(e)}},setup(e,{slots:t}){const a=f(()=>e.align!==void 0?{verticalAlign:e.align}:null),o=f(()=>{const r=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(r!==void 0?` text-${r}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>N("div",{class:o.value,style:a.value,role:"status","aria-label":e.label},na(t.default,e.label!==void 0?[e.label]:[]))}}),oo="/delta-tools/assets/moments-icon.952bdd93.svg";const io={key:0,class:"search-bar row justify-center"},so=["textContent"],lo={key:1,class:"row justify-end"},uo=Ie({__name:"SearchBar",props:{fullSearchBar:{type:Boolean,default:!0}},emits:["expanded","focus","blur"],setup(e,{emit:t}){const a=t,o=dr(),r=la(),n=at(),i=vr(),u=Ne(),c=f(()=>r.is_recording),l=E(n.query.q),s=E();async function y(){var d,w;if(!((d=l.value)!=null&&d.trim()))return u.platform.is.bex?await o.push("/community"):null;n.path!=="/search"&&(await o.push({path:"/search"}),r.$patch($=>$.moments=[])),i.$patch($=>$.search=l.value),(w=s.value)==null||w.blur()}function b(){i.$patch(d=>d.search=""),l.value=""}async function m(){var d;await a("expanded"),(d=s.value)==null||d.focus()}return R(()=>n.query.q,d=>{l.value=d,u.platform.is.bex||y()}),rt(async()=>{var d;if(l.value&&y(),u.platform.is.bex){const w=["search"],$=await u.bex.send("storage.get",w);(d=$==null?void 0:$.data)!=null&&d.search&&(i.$patch(h=>{var v;return h.search=(v=$==null?void 0:$.data)==null?void 0:v.search}),l.value=i.search,await u.bex.send("storage.remove",w))}}),(d,w)=>d.fullSearchBar?(S(),ie("div",io,[_(I(pn),{ref_key:"search_input",ref:s,modelValue:l.value,"onUpdate:modelValue":w[0]||(w[0]=$=>l.value=$),placeholder:d.$t(I(x).search),class:"search-input col","input-class":"border-faded",rounded:"",dense:"",outlined:"",clearable:"",disable:c.value,"data-cy":"header:search_input",onKeydown:gn(y,["enter"]),onClear:b,onFocus:w[1]||(w[1]=$=>a("focus")),onBlur:w[2]||(w[2]=$=>a("blur"))},{after:p(()=>[_(he,{class:"search-icon",icon:"sym_r_search",unelevated:"",color:"highlight-8","text-color":"primary-hb",padding:"7px 12px","data-cy":"header:search_btn",onClick:$a(y,["stop"])},{default:p(()=>[_(xn,{offset:[10,10],anchor:"top middle",self:"bottom middle"},{default:p(()=>[V("span",{textContent:re(d.$t(I(x).search))},null,8,so)]),_:1})]),_:1})]),_:1},8,["modelValue","placeholder","disable"])])):(S(),ie("div",lo,[_(he,{class:"search-trigger",icon:"sym_r_search",outlined:"",flat:"",round:"",onClick:$a(m,["stop"])})]))}});var co=nt(uo,[["__scopeId","data-v-f6bb29da"]]);const fo={class:"full-width row q-col-gutter-sm"},vo={class:"col-auto"},_o={class:"col-auto"},go=["textContent"],po=["textContent"],mo=["textContent"],ho=["textContent"],bo=["textContent"],yo=Ie({__name:"ExtHeader",setup(e){var st;const t=ca(),a=ue(),o=dr(),r=at(),n=la(),i=Ne(),u=ia.getInstance(),c=gr(),l=f(()=>a.is_logged_in),s=f(()=>a.user),y=f(()=>n.is_video_page),b=f(()=>n.is_recording),m=E(null),d=E(null),w=[{label:"Playback mode",sublabel:"Only applies to moments with end time",sub_menu:[{label:k(x.continuous),value:Ce.CONTINUE},{label:k(x.next_moment),value:Ce.NEXT_MOMENT},{label:k(x.loop_moment),value:Ce.LOOP},{label:k(x.pause_moment),value:Ce.PAUSE}]}],$=f(()=>{var T,L;return G.exports.get(G.exports.find(w[0].sub_menu,{value:(L=(T=s==null?void 0:s.value)==null?void 0:T.configs)==null?void 0:L.playback}),"label")}),h=Fe([{label:k(x.my_heartbeat),icon:"sym_r_account_circle",right_icon:"sym_r_open_in_new",component:Q,action:()=>K()},{component:ye,spaced:!0},{label:k(x.get_started),icon:"sym_r_favorite",component:Q,action:()=>X()},{label:k(x.my_moments),icon:"sym_r_videocam",component:Q,route_path:`/profile/${(st=s.value)==null?void 0:st.heartbeat_id}`,action:()=>v()},{label:k(x.community),icon:"sym_r_groups",component:Q,route_path:"/community",action:()=>B()},{component:ye,spaced:!0},{item_id:"dark_mode",label:k(x.dark_mode),toggle:!0,toggle_value:c.dark_mode,component:Q,toggle_action:()=>c.dark_mode_toggle()},{item_id:"playback_settings",label:k(x.playback_settings),icon:"sym_r_replay",right_icon:"sym_r_keyboard_arrow_right",component:Q,action:()=>pe()},{label:k(x.submit_feedback),icon:"sym_r_sms_failed",right_icon:"sym_r_open_in_new",component:Q,action:()=>ee()},{component:ye,spaced:!0},{label:k(x.sign_out),icon:"sym_r_exit_to_app",component:Q,action:()=>A()}]);rt(async()=>{await c.get_user_dark_mode()}),Be(()=>{document.addEventListener("keydown",de),i.bex.on("app.playback_start_forward",D),i.bex.on("app.playback_stop_forward",ge),i.bex.on("app.playback_next_moment",M),i.bex.on("app.fullscreen_request_failed",fe),i.bex.on("app.control_video_failed",ve),i.bex.on("app.control_video_failed_ad_playing",De),i.bex.on("app.moment_play_failed",kt)}),Me(()=>{document.removeEventListener("keydown",de),i.bex.removeAllListeners("app.playback_start_forward"),i.bex.removeAllListeners("app.playback_stop_forward"),i.bex.removeAllListeners("app.playback_next_moment"),i.bex.removeAllListeners("app.fullscreen_request_failed"),i.bex.removeAllListeners("app.control_video_failed"),i.bex.removeAllListeners("app.control_video_failed_ad_playing"),i.bex.removeAllListeners("app.moment_play_failed")});async function v(){var L;const T=(L=s.value)==null?void 0:L.heartbeat_id;await o.push(`/profile/${T}`)}async function B(){await o.push("/community")}async function A(){i.dialog({class:"logout",title:k(x.confirm_sign_out),message:k(x.confirm_sign_out_message),ok:{label:k(x.sign_out),color:"primary",flat:!0},cancel:{label:k(x.cancel),color:"dark",flat:!0},focus:"none"}).onOk(async()=>{await a.logout(),await i.bex.send("bg.logout_website")})}async function q(){switch(o.currentRoute.value.path){case"/search/full":await o.push("/search");break;default:await o.push("/home")}}function K(){var T;Ye(`${U.APP_URL}${U.MY_MOMENTS_PAGE((T=s.value)==null?void 0:T.heartbeat_custom_id)}`)}function ee(){Ye(U.USER_FEEDBACK_LINK)}function O(){return G.exports.get(r,"meta.feature",!1)}function Z(){Ye(U.APP_URL)}function X(){const T=U.YOUTUBE_HEARTBEAT_PREVIEW;if(y.value){const L=mn(T);i.bex.send("bg.change_video_url",{video_id:L})}else Ye(U.YOUTUBE_HEARTBEAT_PREVIEW)}async function de(T){var W;const L=hn(T),C=G.exports.has(L,"allow_target_class")?G.exports.includes(T.target.className,L.allow_target_class):!1;L&&(C||!G.exports.includes(L.invalid_target_tagname,(W=T.target)==null?void 0:W.tagName.toLowerCase()))&&(L.prevent_default&&T.preventDefault(),L.action==="play"&&n.$patch(te=>{te.player_state=te.player_state===Mt.PLAYING?Mt.PAUSED:Mt.PLAYING}),await i.bex.send("bg.control_video",{control_key:L}))}async function z(T){try{await t.update_configs({playback:T}),a.$patch(L=>{L.user&&(L.user.configs={playback:T})}),await i.bex.send("storage.set",{user_info:a.user}),await i.bex.send("bg.playback_settings_updated",{mode:T})}catch(L){if(L.response.status===401)return await o.push("/");const C=L.response.status===403?"Not enough permission update configuration":L.response.data.message||L;i.notify({color:"primary",position:"top",message:C})}}async function D({data:T,respond:L}){n.$patch(W=>{W.is_playing=!0,W.playing_component_name=T.component,W.playing_moment_video=T.videoId});const C=G.exports.get(T,"momentId");if(C)try{await n.track_playback(C)}catch(W){console.log(W)}L()}async function ge({respond:T}){n.playing_moment_index=-1,n.$patch(C=>{C.is_playing=!1,C.playing_component_name="",C.playing_moment_index_limit=-1,C.playing_moment_video="",C.disable_next=G.exports.isEmpty(C.moments),C.disable_prev=G.exports.isEmpty(C.moments)});const{data:{loaded_moment:L}}=await u.storage_get(["loaded_moment"]);if(L){const C=n.get_moments_index(L.momentId);n.disable_next=C>=G.exports.size(n.moments)-1,n.disable_prev=C<=0,n.playing_moment_index=C}T()}async function M({data:T,respond:L}){var te;L();const C=n.get_moments_index(T.momentId,T.videoId),W=n.get_next_moment(T.momentId,T.videoId);if(W){const{user:J}=a;n.playing_moment_index=C+1,n.loaded_moment_index=C+1,n.update_next_prev_status(W),await i.bex.send("bg.moment_play",{momentId:W.id,videoId:T.videoId,start_time:W.start_time,end_time:W.end_time,title:W.title,mode:(te=J==null?void 0:J.configs)==null?void 0:te.playback,component:T.component==="EditMomentForm"?"ViewMoments":T.component,moment_list:n.moments})}else await i.bex.send("bg.moment_stop"),await u.storage_remove("loaded_moment"),n.$patch(J=>{J.is_playing=!1,J.playing_component_name="",J.disable_next=!1,J.disable_prev=!1,J.playing_moment_index=-1,J.loaded_moment_index=-1})}function pe(){d.value&&m.value&&(d.value.show(),m.value.hide())}function se(){m.value&&d.value&&(d.value.hide(),m.value.show())}function fe({respond:T}){i.notify({color:"primary",position:"bottom",message:k(x.error_fullscreen),timeout:U.NOTIFICATION_TIMEOUT}),T()}function ve({respond:T}){i.notify({color:"primary",position:"bottom",message:k(x.error_control_video),timeout:U.NOTIFICATION_TIMEOUT}),T()}function De({respond:T}){i.notify({color:"primary",position:"bottom",message:k(x.error_control_video_ads),timeout:U.NOTIFICATION_TIMEOUT}),T()}function kt({respond:T}){n.$patch(L=>{L.is_playing=!1,L.playing_component_name="",L.playing_moment_index=-1}),i.notify({color:"primary",position:"bottom",message:k(x.error_moment_play_failed),timeout:U.NOTIFICATION_TIMEOUT}),T()}return(T,L)=>(S(),P(_r,{class:"q-py-sm"},{default:p(()=>[V("div",fo,[V("div",vo,[y.value&&O()?(S(),P(he,{key:0,round:"",flat:"",icon:"sym_r_arrow_back",color:"primary-hb",onClick:q})):(S(),P(oa,{key:1,class:"q-mt-sm q-mx-xs",size:"24px",square:""},{default:p(()=>[_(ao,{src:oo,class:"cursor-pointer",title:I(U).APP_TITLE,onClick:Z},null,8,["title"]),I(bn)()?(S(),P(no,{key:0,rounded:"",floating:"","text-color":"primary-hb",color:"faded",label:I(k)(I(x).beta),class:"beta-badge"},null,8,["label"])):Y("",!0)]),_:1}))]),_(co,{class:"col"}),V("div",_o,[l.value&&s.value?(S(),P(he,{key:0,disable:b.value,round:"",flat:""},{default:p(()=>[_(Qt,{src:s.value.avatar,name:s.value.name,size:"32px"},null,8,["src","name"]),_(_t,{ref_key:"user_menu",ref:m},{default:p(()=>[_(et,{padding:""},{default:p(()=>[(S(!0),ie(Te,null,Ze(h,(C,W)=>(S(),P(bt(C.component),{key:W,spaced:C.spaced,tag:C.toggle?"label":void 0,clickable:"",active:C.route_path===I(r).path,"active-class":"bg-primary-proxy-highlight-8 text-primary-proxy no-pointer-events",onClick:C.action},{default:p(()=>[_(j,{side:""},{default:p(()=>[C.toggle?(S(),P(cr,{key:0,"model-value":C.toggle_value,"onUpdate:modelValue":[te=>C.toggle_value=te,C.toggle_action],color:"primary",dense:""},null,8,["model-value","onUpdate:modelValue"])):(S(),P(ce,{key:1,name:C.icon,class:"q-px-xs"},null,8,["name"]))]),_:2},1024),_(j,{"no-wrap":""},{default:p(()=>{var te,J;return[_(ne,{class:"non-selectable"},{default:p(()=>[V("span",{textContent:re(C.label)},null,8,go)]),_:2},1024),C.item_id&&C.item_id==="playback_settings"&&((J=(te=s.value)==null?void 0:te.configs)==null?void 0:J.playback)?(S(),P(ne,{key:0,caption:""},{default:p(()=>[V("span",{textContent:re(`(${$.value})`)},null,8,po)]),_:1})):Y("",!0)]}),_:2},1024),C.right_icon?(S(),P(j,{key:0,side:""},{default:p(()=>[_(ce,{name:C.right_icon,color:"primary-hb"},null,8,["name"])]),_:2},1024)):Y("",!0)]),_:2},1032,["spaced","tag","active","onClick"]))),128))]),_:1})]),_:1},512)]),_:1},8,["disable"])):Y("",!0),_(_t,{ref_key:"playback_submenu",ref:d,"auto-close":""},{default:p(()=>[_(et,{padding:""},{default:p(()=>[_(I(Q),{clickable:"",onClick:se},{default:p(()=>[_(j,{side:""},{default:p(()=>[_(ce,{name:"sym_r_arrow_back"})]),_:1}),_(j,{"no-wrap":""},{default:p(()=>[_(ne,null,{default:p(()=>[V("span",{textContent:re(w[0].label)},null,8,mo)]),_:1}),_(ne,{caption:""},{default:p(()=>[V("span",{textContent:re(w[0].sublabel)},null,8,ho)]),_:1})]),_:1})]),_:1}),_(I(ye),{spaced:""}),(S(!0),ie(Te,null,Ze(w[0].sub_menu,(C,W)=>{var te,J;return S(),P(I(Q),{key:W,active:C.value===((J=(te=s.value)==null?void 0:te.configs)==null?void 0:J.playback),"active-class":"bg-primary-proxy-highlight-8 text-primary-proxy",clickable:"",onClick:Ve=>z(C.value)},{default:p(()=>[_(j,null,{default:p(()=>[_(ne,null,{default:p(()=>[V("span",{textContent:re(C.label)},null,8,bo)]),_:2},1024)]),_:2},1024),_(j,{side:""},{default:p(()=>{var Ve,lt;return[_(ce,{name:"sym_r_check",class:ke({invisible:C.value!==((lt=(Ve=s.value)==null?void 0:Ve.configs)==null?void 0:lt.playback)})},null,8,["class"])]}),_:2},1024)]),_:2},1032,["active","onClick"])}),128))]),_:1})]),_:1},512)])])]),_:1}))}});var wo=nt(yo,[["__scopeId","data-v-ddc6d000"]]);const $o=Ie({__name:"FHeader",emits:["menu-clicked"],setup(e,{emit:t}){const a=t,o=Ne(),r=f(()=>o.platform.is.bex?wo:Jn);return(n,i)=>(S(),P(Ln,{bordered:"",class:"f-header bg-primary-hb text-primary-hb no-border-bottom",reveal:I(o).screen.lt.sm&&!I(o).platform.is.bex},{default:p(()=>[(S(),P(bt(r.value),{onMenuClicked:i[0]||(i[0]=u=>a("menu-clicked"))},null,32))]),_:1},8,["reveal"]))}});var xo="data:image/png;base64,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";function Ao(e,t){for(var a=-1,o=e==null?0:e.length,r=0,n=[];++a<o;){var i=e[a];t(i,a,e)&&(n[r++]=i)}return n}var pr=Ao;function So(e){return function(t,a,o){for(var r=-1,n=Object(t),i=o(t),u=i.length;u--;){var c=i[e?u:++r];if(a(n[c],c,n)===!1)break}return t}}var ko=So,Co=ko,To=Co(),Oo=To;function Io(e,t){for(var a=-1,o=Array(e);++a<e;)o[a]=t(a);return o}var Eo=Io,qo=typeof ft=="object"&&ft&&ft.Object===Object&&ft,mr=qo,Lo=mr,Po=typeof self=="object"&&self&&self.Object===Object&&self,Bo=Lo||Po||Function("return this")(),$e=Bo,Mo=$e,Do=Mo.Symbol,yt=Do,Ia=yt,hr=Object.prototype,Fo=hr.hasOwnProperty,No=hr.toString,Qe=Ia?Ia.toStringTag:void 0;function Ro(e){var t=Fo.call(e,Qe),a=e[Qe];try{e[Qe]=void 0;var o=!0}catch{}var r=No.call(e);return o&&(t?e[Qe]=a:delete e[Qe]),r}var Uo=Ro,zo=Object.prototype,Ko=zo.toString;function Ho(e){return Ko.call(e)}var jo=Ho,Ea=yt,Vo=Uo,Go=jo,Qo="[object Null]",Wo="[object Undefined]",qa=Ea?Ea.toStringTag:void 0;function Yo(e){return e==null?e===void 0?Wo:Qo:qa&&qa in Object(e)?Vo(e):Go(e)}var ot=Yo;function Xo(e){return e!=null&&typeof e=="object"}var it=Xo,Jo=ot,Zo=it,ei="[object Arguments]";function ti(e){return Zo(e)&&Jo(e)==ei}var ai=ti,La=ai,ri=it,br=Object.prototype,ni=br.hasOwnProperty,oi=br.propertyIsEnumerable,ii=La(function(){return arguments}())?La:function(e){return ri(e)&&ni.call(e,"callee")&&!oi.call(e,"callee")},yr=ii,si=Array.isArray,xe=si,gt={exports:{}};function li(){return!1}var ui=li;(function(e,t){var a=$e,o=ui,r=t&&!t.nodeType&&t,n=r&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===r,u=i?a.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||o;e.exports=l})(gt,gt.exports);var ci=9007199254740991,di=/^(?:0|[1-9]\d*)$/;function fi(e,t){var a=typeof e;return t=t==null?ci:t,!!t&&(a=="number"||a!="symbol"&&di.test(e))&&e>-1&&e%1==0&&e<t}var wr=fi,vi=9007199254740991;function _i(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vi}var da=_i,gi=ot,pi=da,mi=it,hi="[object Arguments]",bi="[object Array]",yi="[object Boolean]",wi="[object Date]",$i="[object Error]",xi="[object Function]",Ai="[object Map]",Si="[object Number]",ki="[object Object]",Ci="[object RegExp]",Ti="[object Set]",Oi="[object String]",Ii="[object WeakMap]",Ei="[object ArrayBuffer]",qi="[object DataView]",Li="[object Float32Array]",Pi="[object Float64Array]",Bi="[object Int8Array]",Mi="[object Int16Array]",Di="[object Int32Array]",Fi="[object Uint8Array]",Ni="[object Uint8ClampedArray]",Ri="[object Uint16Array]",Ui="[object Uint32Array]",H={};H[Li]=H[Pi]=H[Bi]=H[Mi]=H[Di]=H[Fi]=H[Ni]=H[Ri]=H[Ui]=!0;H[hi]=H[bi]=H[Ei]=H[yi]=H[qi]=H[wi]=H[$i]=H[xi]=H[Ai]=H[Si]=H[ki]=H[Ci]=H[Ti]=H[Oi]=H[Ii]=!1;function zi(e){return mi(e)&&pi(e.length)&&!!H[gi(e)]}var Ki=zi;function Hi(e){return function(t){return e(t)}}var ji=Hi,Wt={exports:{}};(function(e,t){var a=mr,o=t&&!t.nodeType&&t,r=o&&!0&&e&&!e.nodeType&&e,n=r&&r.exports===o,i=n&&a.process,u=function(){try{var c=r&&r.require&&r.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=u})(Wt,Wt.exports);var Vi=Ki,Gi=ji,Pa=Wt.exports,Ba=Pa&&Pa.isTypedArray,Qi=Ba?Gi(Ba):Vi,$r=Qi,Wi=Eo,Yi=yr,Xi=xe,Ji=gt.exports,Zi=wr,es=$r,ts=Object.prototype,as=ts.hasOwnProperty;function rs(e,t){var a=Xi(e),o=!a&&Yi(e),r=!a&&!o&&Ji(e),n=!a&&!o&&!r&&es(e),i=a||o||r||n,u=i?Wi(e.length,String):[],c=u.length;for(var l in e)(t||as.call(e,l))&&!(i&&(l=="length"||r&&(l=="offset"||l=="parent")||n&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Zi(l,c)))&&u.push(l);return u}var ns=rs,os=Object.prototype;function is(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||os;return e===a}var ss=is;function ls(e,t){return function(a){return e(t(a))}}var us=ls,cs=us,ds=cs(Object.keys,Object),fs=ds,vs=ss,_s=fs,gs=Object.prototype,ps=gs.hasOwnProperty;function ms(e){if(!vs(e))return _s(e);var t=[];for(var a in Object(e))ps.call(e,a)&&a!="constructor"&&t.push(a);return t}var hs=ms;function bs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fa=bs,ys=ot,ws=fa,$s="[object AsyncFunction]",xs="[object Function]",As="[object GeneratorFunction]",Ss="[object Proxy]";function ks(e){if(!ws(e))return!1;var t=ys(e);return t==xs||t==As||t==$s||t==Ss}var xr=ks,Cs=xr,Ts=da;function Os(e){return e!=null&&Ts(e.length)&&!Cs(e)}var Ar=Os,Is=ns,Es=hs,qs=Ar;function Ls(e){return qs(e)?Is(e):Es(e)}var va=Ls,Ps=Oo,Bs=va;function Ms(e,t){return e&&Ps(e,t,Bs)}var Ds=Ms,Fs=Ar;function Ns(e,t){return function(a,o){if(a==null)return a;if(!Fs(a))return e(a,o);for(var r=a.length,n=t?r:-1,i=Object(a);(t?n--:++n<r)&&o(i[n],n,i)!==!1;);return a}}var Rs=Ns,Us=Ds,zs=Rs,Ks=zs(Us),Hs=Ks,js=Hs;function Vs(e,t){var a=[];return js(e,function(o,r,n){t(o,r,n)&&a.push(o)}),a}var Gs=Vs;function Qs(){this.__data__=[],this.size=0}var Ws=Qs;function Ys(e,t){return e===t||e!==e&&t!==t}var Sr=Ys,Xs=Sr;function Js(e,t){for(var a=e.length;a--;)if(Xs(e[a][0],t))return a;return-1}var wt=Js,Zs=wt,el=Array.prototype,tl=el.splice;function al(e){var t=this.__data__,a=Zs(t,e);if(a<0)return!1;var o=t.length-1;return a==o?t.pop():tl.call(t,a,1),--this.size,!0}var rl=al,nl=wt;function ol(e){var t=this.__data__,a=nl(t,e);return a<0?void 0:t[a][1]}var il=ol,sl=wt;function ll(e){return sl(this.__data__,e)>-1}var ul=ll,cl=wt;function dl(e,t){var a=this.__data__,o=cl(a,e);return o<0?(++this.size,a.push([e,t])):a[o][1]=t,this}var fl=dl,vl=Ws,_l=rl,gl=il,pl=ul,ml=fl;function Re(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var o=e[t];this.set(o[0],o[1])}}Re.prototype.clear=vl;Re.prototype.delete=_l;Re.prototype.get=gl;Re.prototype.has=pl;Re.prototype.set=ml;var $t=Re,hl=$t;function bl(){this.__data__=new hl,this.size=0}var yl=bl;function wl(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}var $l=wl;function xl(e){return this.__data__.get(e)}var Al=xl;function Sl(e){return this.__data__.has(e)}var kl=Sl,Cl=$e,Tl=Cl["__core-js_shared__"],Ol=Tl,Nt=Ol,Ma=function(){var e=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Il(e){return!!Ma&&Ma in e}var El=Il,ql=Function.prototype,Ll=ql.toString;function Pl(e){if(e!=null){try{return Ll.call(e)}catch{}try{return e+""}catch{}}return""}var kr=Pl,Bl=xr,Ml=El,Dl=fa,Fl=kr,Nl=/[\\^$.*+?()[\]{}|]/g,Rl=/^\[object .+?Constructor\]$/,Ul=Function.prototype,zl=Object.prototype,Kl=Ul.toString,Hl=zl.hasOwnProperty,jl=RegExp("^"+Kl.call(Hl).replace(Nl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vl(e){if(!Dl(e)||Ml(e))return!1;var t=Bl(e)?jl:Rl;return t.test(Fl(e))}var Gl=Vl;function Ql(e,t){return e==null?void 0:e[t]}var Wl=Ql,Yl=Gl,Xl=Wl;function Jl(e,t){var a=Xl(e,t);return Yl(a)?a:void 0}var Ue=Jl,Zl=Ue,eu=$e,tu=Zl(eu,"Map"),_a=tu,au=Ue,ru=au(Object,"create"),xt=ru,Da=xt;function nu(){this.__data__=Da?Da(null):{},this.size=0}var ou=nu;function iu(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var su=iu,lu=xt,uu="__lodash_hash_undefined__",cu=Object.prototype,du=cu.hasOwnProperty;function fu(e){var t=this.__data__;if(lu){var a=t[e];return a===uu?void 0:a}return du.call(t,e)?t[e]:void 0}var vu=fu,_u=xt,gu=Object.prototype,pu=gu.hasOwnProperty;function mu(e){var t=this.__data__;return _u?t[e]!==void 0:pu.call(t,e)}var hu=mu,bu=xt,yu="__lodash_hash_undefined__";function wu(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=bu&&t===void 0?yu:t,this}var $u=wu,xu=ou,Au=su,Su=vu,ku=hu,Cu=$u;function ze(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var o=e[t];this.set(o[0],o[1])}}ze.prototype.clear=xu;ze.prototype.delete=Au;ze.prototype.get=Su;ze.prototype.has=ku;ze.prototype.set=Cu;var Tu=ze,Fa=Tu,Ou=$t,Iu=_a;function Eu(){this.size=0,this.__data__={hash:new Fa,map:new(Iu||Ou),string:new Fa}}var qu=Eu;function Lu(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Pu=Lu,Bu=Pu;function Mu(e,t){var a=e.__data__;return Bu(t)?a[typeof t=="string"?"string":"hash"]:a.map}var At=Mu,Du=At;function Fu(e){var t=Du(this,e).delete(e);return this.size-=t?1:0,t}var Nu=Fu,Ru=At;function Uu(e){return Ru(this,e).get(e)}var zu=Uu,Ku=At;function Hu(e){return Ku(this,e).has(e)}var ju=Hu,Vu=At;function Gu(e,t){var a=Vu(this,e),o=a.size;return a.set(e,t),this.size+=a.size==o?0:1,this}var Qu=Gu,Wu=qu,Yu=Nu,Xu=zu,Ju=ju,Zu=Qu;function Ke(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var o=e[t];this.set(o[0],o[1])}}Ke.prototype.clear=Wu;Ke.prototype.delete=Yu;Ke.prototype.get=Xu;Ke.prototype.has=Ju;Ke.prototype.set=Zu;var ga=Ke,ec=$t,tc=_a,ac=ga,rc=200;function nc(e,t){var a=this.__data__;if(a instanceof ec){var o=a.__data__;if(!tc||o.length<rc-1)return o.push([e,t]),this.size=++a.size,this;a=this.__data__=new ac(o)}return a.set(e,t),this.size=a.size,this}var oc=nc,ic=$t,sc=yl,lc=$l,uc=Al,cc=kl,dc=oc;function He(e){var t=this.__data__=new ic(e);this.size=t.size}He.prototype.clear=sc;He.prototype.delete=lc;He.prototype.get=uc;He.prototype.has=cc;He.prototype.set=dc;var Cr=He,fc="__lodash_hash_undefined__";function vc(e){return this.__data__.set(e,fc),this}var _c=vc;function gc(e){return this.__data__.has(e)}var pc=gc,mc=ga,hc=_c,bc=pc;function pt(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new mc;++t<a;)this.add(e[t])}pt.prototype.add=pt.prototype.push=hc;pt.prototype.has=bc;var yc=pt;function wc(e,t){for(var a=-1,o=e==null?0:e.length;++a<o;)if(t(e[a],a,e))return!0;return!1}var $c=wc;function xc(e,t){return e.has(t)}var Ac=xc,Sc=yc,kc=$c,Cc=Ac,Tc=1,Oc=2;function Ic(e,t,a,o,r,n){var i=a&Tc,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;var l=n.get(e),s=n.get(t);if(l&&s)return l==t&&s==e;var y=-1,b=!0,m=a&Oc?new Sc:void 0;for(n.set(e,t),n.set(t,e);++y<u;){var d=e[y],w=t[y];if(o)var $=i?o(w,d,y,t,e,n):o(d,w,y,e,t,n);if($!==void 0){if($)continue;b=!1;break}if(m){if(!kc(t,function(h,v){if(!Cc(m,v)&&(d===h||r(d,h,a,o,n)))return m.push(v)})){b=!1;break}}else if(!(d===w||r(d,w,a,o,n))){b=!1;break}}return n.delete(e),n.delete(t),b}var Tr=Ic,Ec=$e,qc=Ec.Uint8Array,Lc=qc;function Pc(e){var t=-1,a=Array(e.size);return e.forEach(function(o,r){a[++t]=[r,o]}),a}var Bc=Pc;function Mc(e){var t=-1,a=Array(e.size);return e.forEach(function(o){a[++t]=o}),a}var Dc=Mc,Na=yt,Ra=Lc,Fc=Sr,Nc=Tr,Rc=Bc,Uc=Dc,zc=1,Kc=2,Hc="[object Boolean]",jc="[object Date]",Vc="[object Error]",Gc="[object Map]",Qc="[object Number]",Wc="[object RegExp]",Yc="[object Set]",Xc="[object String]",Jc="[object Symbol]",Zc="[object ArrayBuffer]",ed="[object DataView]",Ua=Na?Na.prototype:void 0,Rt=Ua?Ua.valueOf:void 0;function td(e,t,a,o,r,n,i){switch(a){case ed:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Zc:return!(e.byteLength!=t.byteLength||!n(new Ra(e),new Ra(t)));case Hc:case jc:case Qc:return Fc(+e,+t);case Vc:return e.name==t.name&&e.message==t.message;case Wc:case Xc:return e==t+"";case Gc:var u=Rc;case Yc:var c=o&zc;if(u||(u=Uc),e.size!=t.size&&!c)return!1;var l=i.get(e);if(l)return l==t;o|=Kc,i.set(e,t);var s=Nc(u(e),u(t),o,r,n,i);return i.delete(e),s;case Jc:if(Rt)return Rt.call(e)==Rt.call(t)}return!1}var ad=td;function rd(e,t){for(var a=-1,o=t.length,r=e.length;++a<o;)e[r+a]=t[a];return e}var nd=rd,od=nd,id=xe;function sd(e,t,a){var o=t(e);return id(e)?o:od(o,a(e))}var ld=sd;function ud(){return[]}var cd=ud,dd=pr,fd=cd,vd=Object.prototype,_d=vd.propertyIsEnumerable,za=Object.getOwnPropertySymbols,gd=za?function(e){return e==null?[]:(e=Object(e),dd(za(e),function(t){return _d.call(e,t)}))}:fd,pd=gd,md=ld,hd=pd,bd=va;function yd(e){return md(e,bd,hd)}var wd=yd,Ka=wd,$d=1,xd=Object.prototype,Ad=xd.hasOwnProperty;function Sd(e,t,a,o,r,n){var i=a&$d,u=Ka(e),c=u.length,l=Ka(t),s=l.length;if(c!=s&&!i)return!1;for(var y=c;y--;){var b=u[y];if(!(i?b in t:Ad.call(t,b)))return!1}var m=n.get(e),d=n.get(t);if(m&&d)return m==t&&d==e;var w=!0;n.set(e,t),n.set(t,e);for(var $=i;++y<c;){b=u[y];var h=e[b],v=t[b];if(o)var B=i?o(v,h,b,t,e,n):o(h,v,b,e,t,n);if(!(B===void 0?h===v||r(h,v,a,o,n):B)){w=!1;break}$||($=b=="constructor")}if(w&&!$){var A=e.constructor,q=t.constructor;A!=q&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof q=="function"&&q instanceof q)&&(w=!1)}return n.delete(e),n.delete(t),w}var kd=Sd,Cd=Ue,Td=$e,Od=Cd(Td,"DataView"),Id=Od,Ed=Ue,qd=$e,Ld=Ed(qd,"Promise"),Pd=Ld,Bd=Ue,Md=$e,Dd=Bd(Md,"Set"),Fd=Dd,Nd=Ue,Rd=$e,Ud=Nd(Rd,"WeakMap"),zd=Ud,Yt=Id,Xt=_a,Jt=Pd,Zt=Fd,ea=zd,Or=ot,je=kr,Ha="[object Map]",Kd="[object Object]",ja="[object Promise]",Va="[object Set]",Ga="[object WeakMap]",Qa="[object DataView]",Hd=je(Yt),jd=je(Xt),Vd=je(Jt),Gd=je(Zt),Qd=je(ea),Pe=Or;(Yt&&Pe(new Yt(new ArrayBuffer(1)))!=Qa||Xt&&Pe(new Xt)!=Ha||Jt&&Pe(Jt.resolve())!=ja||Zt&&Pe(new Zt)!=Va||ea&&Pe(new ea)!=Ga)&&(Pe=function(e){var t=Or(e),a=t==Kd?e.constructor:void 0,o=a?je(a):"";if(o)switch(o){case Hd:return Qa;case jd:return Ha;case Vd:return ja;case Gd:return Va;case Qd:return Ga}return t});var Wd=Pe,Ut=Cr,Yd=Tr,Xd=ad,Jd=kd,Wa=Wd,Ya=xe,Xa=gt.exports,Zd=$r,ef=1,Ja="[object Arguments]",Za="[object Array]",vt="[object Object]",tf=Object.prototype,er=tf.hasOwnProperty;function af(e,t,a,o,r,n){var i=Ya(e),u=Ya(t),c=i?Za:Wa(e),l=u?Za:Wa(t);c=c==Ja?vt:c,l=l==Ja?vt:l;var s=c==vt,y=l==vt,b=c==l;if(b&&Xa(e)){if(!Xa(t))return!1;i=!0,s=!1}if(b&&!s)return n||(n=new Ut),i||Zd(e)?Yd(e,t,a,o,r,n):Xd(e,t,c,a,o,r,n);if(!(a&ef)){var m=s&&er.call(e,"__wrapped__"),d=y&&er.call(t,"__wrapped__");if(m||d){var w=m?e.value():e,$=d?t.value():t;return n||(n=new Ut),r(w,$,a,o,n)}}return b?(n||(n=new Ut),Jd(e,t,a,o,r,n)):!1}var rf=af,nf=rf,tr=it;function Ir(e,t,a,o,r){return e===t?!0:e==null||t==null||!tr(e)&&!tr(t)?e!==e&&t!==t:nf(e,t,a,o,Ir,r)}var Er=Ir,of=Cr,sf=Er,lf=1,uf=2;function cf(e,t,a,o){var r=a.length,n=r,i=!o;if(e==null)return!n;for(e=Object(e);r--;){var u=a[r];if(i&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++r<n;){u=a[r];var c=u[0],l=e[c],s=u[1];if(i&&u[2]){if(l===void 0&&!(c in e))return!1}else{var y=new of;if(o)var b=o(l,s,c,e,t,y);if(!(b===void 0?sf(s,l,lf|uf,o,y):b))return!1}}return!0}var df=cf,ff=fa;function vf(e){return e===e&&!ff(e)}var qr=vf,_f=qr,gf=va;function pf(e){for(var t=gf(e),a=t.length;a--;){var o=t[a],r=e[o];t[a]=[o,r,_f(r)]}return t}var mf=pf;function hf(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==void 0||e in Object(a))}}var Lr=hf,bf=df,yf=mf,wf=Lr;function $f(e){var t=yf(e);return t.length==1&&t[0][2]?wf(t[0][0],t[0][1]):function(a){return a===e||bf(a,e,t)}}var xf=$f,Af=ot,Sf=it,kf="[object Symbol]";function Cf(e){return typeof e=="symbol"||Sf(e)&&Af(e)==kf}var pa=Cf,Tf=xe,Of=pa,If=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ef=/^\w*$/;function qf(e,t){if(Tf(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||Of(e)?!0:Ef.test(e)||!If.test(e)||t!=null&&e in Object(t)}var ma=qf,Pr=ga,Lf="Expected a function";function ha(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Lf);var a=function(){var o=arguments,r=t?t.apply(this,o):o[0],n=a.cache;if(n.has(r))return n.get(r);var i=e.apply(this,o);return a.cache=n.set(r,i)||n,i};return a.cache=new(ha.Cache||Pr),a}ha.Cache=Pr;var Pf=ha,Bf=Pf,Mf=500;function Df(e){var t=Bf(e,function(o){return a.size===Mf&&a.clear(),o}),a=t.cache;return t}var Ff=Df,Nf=Ff,Rf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uf=/\\(\\)?/g,zf=Nf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Rf,function(a,o,r,n){t.push(r?n.replace(Uf,"$1"):o||a)}),t}),Kf=zf;function Hf(e,t){for(var a=-1,o=e==null?0:e.length,r=Array(o);++a<o;)r[a]=t(e[a],a,e);return r}var jf=Hf,ar=yt,Vf=jf,Gf=xe,Qf=pa,Wf=1/0,rr=ar?ar.prototype:void 0,nr=rr?rr.toString:void 0;function Br(e){if(typeof e=="string")return e;if(Gf(e))return Vf(e,Br)+"";if(Qf(e))return nr?nr.call(e):"";var t=e+"";return t=="0"&&1/e==-Wf?"-0":t}var Yf=Br,Xf=Yf;function Jf(e){return e==null?"":Xf(e)}var Zf=Jf,ev=xe,tv=ma,av=Kf,rv=Zf;function nv(e,t){return ev(e)?e:tv(e,t)?[e]:av(rv(e))}var Mr=nv,ov=pa,iv=1/0;function sv(e){if(typeof e=="string"||ov(e))return e;var t=e+"";return t=="0"&&1/e==-iv?"-0":t}var St=sv,lv=Mr,uv=St;function cv(e,t){t=lv(t,e);for(var a=0,o=t.length;e!=null&&a<o;)e=e[uv(t[a++])];return a&&a==o?e:void 0}var Dr=cv,dv=Dr;function fv(e,t,a){var o=e==null?void 0:dv(e,t);return o===void 0?a:o}var vv=fv;function _v(e,t){return e!=null&&t in Object(e)}var gv=_v,pv=Mr,mv=yr,hv=xe,bv=wr,yv=da,wv=St;function $v(e,t,a){t=pv(t,e);for(var o=-1,r=t.length,n=!1;++o<r;){var i=wv(t[o]);if(!(n=e!=null&&a(e,i)))break;e=e[i]}return n||++o!=r?n:(r=e==null?0:e.length,!!r&&yv(r)&&bv(i,r)&&(hv(e)||mv(e)))}var xv=$v,Av=gv,Sv=xv;function kv(e,t){return e!=null&&Sv(e,t,Av)}var Cv=kv,Tv=Er,Ov=vv,Iv=Cv,Ev=ma,qv=qr,Lv=Lr,Pv=St,Bv=1,Mv=2;function Dv(e,t){return Ev(e)&&qv(t)?Lv(Pv(e),t):function(a){var o=Ov(a,e);return o===void 0&&o===t?Iv(a,e):Tv(t,o,Bv|Mv)}}var Fv=Dv;function Nv(e){return e}var Rv=Nv;function Uv(e){return function(t){return t==null?void 0:t[e]}}var zv=Uv,Kv=Dr;function Hv(e){return function(t){return Kv(t,e)}}var jv=Hv,Vv=zv,Gv=jv,Qv=ma,Wv=St;function Yv(e){return Qv(e)?Vv(Wv(e)):Gv(e)}var Xv=Yv,Jv=xf,Zv=Fv,e_=Rv,t_=xe,a_=Xv;function r_(e){return typeof e=="function"?e:e==null?e_:typeof e=="object"?t_(e)?Zv(e[0],e[1]):Jv(e):a_(e)}var n_=r_,o_=pr,i_=Gs,s_=n_,l_=xe;function u_(e,t){var a=l_(e)?o_:i_;return a(e,s_(t))}var c_=u_;const We="/app-logos",d_={hb_viki:{type:be.LINK,label:k(x.viki),hover_text:k(x.hb_app_prefix,{name:x.viki}),img_link:`${We}/moments-icon.svg`,href:"https://vi.ki/"},hb_moments:{type:be.LINK,label:k(x.moments_extension),hover_text:k(x.hb_app_prefix,{name:x.moments_chrome_extension}),img_link:`${We}/moments-icon.svg`,href:"https://heartbeatmoments.com/"},thumbs:{type:be.LINK,label:k(x.thumbs),hover_text:k(x.hb_app_prefix,{name:x.thumbs}),img_link:"https://thumbs.tm/assets/icons/Thumbs-red-icon.svg",href:"https://thumbs.tm/"},spam:{type:be.LINK,label:k(x.spam),hover_text:k(x.spam_tooltip),img_link:`${We}/spam-logo.svg`,href:"https://www.spam.tm/"},aegis:{type:be.LINK,label:k(x.aegis),hover_text:k(x.aegis_tooltip),img_link:`${We}/aegis-logo.svg`,href:"https://www.aegis.tm/"},freedom:{type:be.LINK,label:k(x.freedom),hover_text:k(x.freedom_partner_dashboard),img_link:`${We}/freedom-logo.svg`,href:"https://www.freedom.tm/"}};const f_=["src","alt"],v_=["textContent"],__=Ie({__name:"FSidebarLink",props:{type:{},label:{},hoverText:{},icon:{},iconRight:{},imgLink:{},imgAlt:{},href:{},to:{},disable:{type:Boolean},target:{},active:{type:Boolean},color:{},ariaLabel:{}},setup(e){const t=e;return(a,o)=>{var r;return S(),ie(Te,null,[t.type===I(be).LINK?or((S(),P(Q,{key:0,to:t.to,href:t.href,target:t.target,"active-class":"bg-primary-proxy-highlight-16 text-primary-proxy",clickable:"",class:"f-sidebar-link radius-sm show-on-hover-target",title:t.hoverText,"aria-label":(r=t.ariaLabel)!=null?r:t.hoverText,active:t.active},{default:p(()=>[t.icon||t.imgLink?(S(),P(j,{key:0,side:""},{default:p(()=>[t.icon?(S(),P(ce,{key:0,name:t.icon,class:ke({fill:t.active})},null,8,["name","class"])):Y("",!0),t.imgLink?(S(),P(oa,{key:1,size:"24px",square:""},{default:p(()=>{var n;return[V("img",{src:t.imgLink,alt:(n=t.imgAlt)!=null?n:t.hoverText},null,8,f_)]}),_:1})):Y("",!0)]),_:1})):Y("",!0),_(j,null,{default:p(()=>[_(ne,{class:"text-weight-light"},{default:p(()=>[V("span",{textContent:re(a.label)},null,8,v_)]),_:1})]),_:1}),t.iconRight?(S(),P(j,{key:1,side:""},{default:p(()=>[_(ce,{name:t.iconRight,class:"show-on-hover",color:"secondary-hb"},null,8,["name"])]),_:1})):Y("",!0)]),_:1},8,["to","href","target","title","aria-label","active"])),[[yn]]):Y("",!0),t.type===I(be).SEPARATOR?(S(),P(ye,{key:1,color:t.color,spaced:""},null,8,["color"])):Y("",!0)],64)}}});var g_=nt(__,[["__scopeId","data-v-bd4200ce"]]);const p_={class:"f-sidebar row column full-height q-pa-sm bg-primary-hb"},m_=V("img",{src:xo,alt:"Heartbeat Logo",width:21},null,-1),h_=["textContent"],b_=V("span",{textContent:"Delta Tools"},null,-1),y_=Ie({__name:"FSidebar",emits:["menu-clicked"],setup(e,{emit:t}){var m;const a=ue(),o=at(),r=Ne(),n=f(()=>a.user),i=f(()=>a.is_logged_in);f(()=>{var d;return i.value?(d=n.value)==null?void 0:d.heartbeat_handle:""});const u=d_;new Date().getFullYear();const c=" 0.0.1",l=E(!0);(m=u.hb_moments)==null||m.href,E(!1);const s=f(()=>r.screen.lt.md||o.name==="watch");f(()=>!r.platform.is.mobile&&(r.platform.is.chrome||r.platform.is.edgeChromium||r.platform.is.opera)),f(()=>l.value?Object.values(u):c_(u,(d,w)=>w!="hb_moments"));const y=t,b=f(()=>[{type:be.LINK,to:"/",icon:"sym_r_keyboard_onscreen",label:"Fee Calculator",active:o.name==="web_home"}]);return rt(async()=>{l.value=await wn()}),(d,w)=>{const $=sa("RouterLink");return S(),ie("div",p_,[_(et,{class:"text-weight-medium q-pb-md"},{default:p(()=>[s.value?(S(),P(Q,{key:0,class:"q-pl-sm q-pt-none"},{default:p(()=>[_(j,{side:"",class:"q-pr-sm"},{default:p(()=>[_(he,{dense:"",round:"",flat:"",icon:"sym_r_menu",class:"q-ml-xs",onClick:w[0]||(w[0]=h=>y("menu-clicked"))})]),_:1}),_(j,null,{default:p(()=>[_(ne,null,{default:p(()=>[_($,{to:"/",title:I(U).APP_TITLE,class:"heartbeat-logo row items-center gap-xs"},{default:p(()=>[m_,V("span",{class:"non-selectable",textContent:re(I(U).APP_TITLE)},null,8,h_)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})):Y("",!0),(S(!0),ie(Te,null,Ze(b.value,(h,v)=>{var B;return S(),P(g_,{key:v,type:h.type,label:h.label,"hover-text":h.hover_text,"aria-label":(B=h.hover_text)!=null?B:h.label,icon:h.icon,"img-link":h.img_link,"img-alt":h.img_alt,"icon-right":h.icon_right,to:h.to,href:h.href,target:h.target,active:h.active,color:h.color},null,8,["type","label","hover-text","aria-label","icon","img-link","img-alt","icon-right","to","href","target","active","color"])}),128)),_(ye,{spaced:"",color:"highlight-8"}),_(Q,{class:"footer-notes q-py-none"},{default:p(()=>[_(j,null,{default:p(()=>[_(ne,{caption:""},{default:p(()=>[b_,V("span",{textContent:c})]),_:1})]),_:1})]),_:1})]),_:1})])}}}),w_=240,k_=Ie({__name:"MainLayout",setup(e){const t=ia.getInstance(),a=ue(),o=la(),r=Ne(),n=at(),i=lr(),u=E(!1),c=E(!r.platform.is.bex),l=f(()=>r.screen.gt.sm&&n.name!=="watch"?"desktop":"mobile"),s=E(!0);f(()=>r.screen.xs&&!r.platform.is.bex&&n.name!=="watch"),Xe("login_fn",m),Xe("drawer_ctrl",$),Xe("layout_loading",u);const y=vr(),b=t==null?void 0:t.is_bex();rt(async()=>{var h,v;if(i.start_page_load(),u.value=!0,b){u.value=!1;try{const B=await r.bex.send("video.get");let A=Boolean(B==null?void 0:B.data);await d(A);const q=["search","filters","page","per_page"],K=await r.bex.send("storage.get",[...q,"is_recording"]),ee=Boolean((h=K==null?void 0:K.data)==null?void 0:h.is_recording);o.$patch({is_recording:ee,is_video_page:A});const O=G.exports.chain(K).get("data",{}).pick(q).value();await r.bex.send("storage.remove",G.exports.keys(q)),G.exports.isEmpty(O)||y.$patch(O)}catch(B){console.log("[Moments] Error",B)}}else if(u.value=!0,await t.clear_stored_moments(),a.is_logged_in){if(isNaN(+((v=a.user)==null?void 0:v.id)))a.force_logout();else if(!n.meta.skip_session_check)try{await a.get_self()}catch{a.force_logout()}}u.value=!1,s.value=!1,i.stop_page_load()});async function m(){await a.login_on_website()}async function d(h){u.value=!0,await a.bex_login(h),u.value=!1}function w(){c.value=!c.value}function $(h){c.value=h}return R(()=>r.screen.lt.md,h=>{n.name!=="watch"&&Je(()=>$(!h))}),Be(()=>{$(!r.screen.lt.md)}),(h,v)=>{const B=sa("router-view");return S(),P(qn,{view:"hHh Lpr lFF"},{default:p(()=>[_($o,{onMenuClicked:w}),I(r).platform.is.bex?Y("",!0):(S(),P(Cn,{key:0,modelValue:c.value,"onUpdate:modelValue":v[0]||(v[0]=A=>c.value=A),"show-if-above":"",side:"left",width:w_,class:"bg-primary-hb flex no-wrap hiding-scroll",behavior:l.value,onHide:v[1]||(v[1]=A=>c.value=!1)},{default:p(()=>[_(y_,{onMenuClicked:w})]),_:1},8,["modelValue","behavior"])),_(Tn,null,{default:p(()=>[_(B,null,{default:p(({Component:A})=>[(S(),P(bt(A)))]),_:1})]),_:1})]),_:1})}}});export{k_ as default};
